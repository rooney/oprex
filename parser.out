Created by PLY version 3.6 (http://www.dabeaz.com/ply)

Grammar

Rule 0     S' -> oprex
Rule 1     oprex -> <empty>
Rule 2     oprex -> WHITESPACE
Rule 3     oprex -> NEWLINE
Rule 4     oprex -> NEWLINE root_expression
Rule 5     oprex -> NEWLINE INDENT root_expression DEDENT
Rule 6     root_expression -> global_flags
Rule 7     root_expression -> expression
Rule 8     root_expression -> global_flags expression
Rule 9     global_flags -> LPAREN FLAGSET RPAREN NEWLINE
Rule 10    expression -> expr optional_subblock
Rule 11    expr -> string_expr
Rule 12    expr -> lookup_expr
Rule 13    expr -> orblock_expr
Rule 14    expr -> flagged_expr
Rule 15    expr -> lookaround_expr
Rule 16    expr -> quantified_expr
Rule 17    expr -> numrange_shortcut
Rule 18    expr -> charclass_negation
Rule 19    string_expr -> STRING NEWLINE
Rule 20    string_expr -> STRING str_b NEWLINE
Rule 21    string_expr -> str_b STRING NEWLINE
Rule 22    string_expr -> str_b STRING str_b NEWLINE
Rule 23    str_b -> DOT
Rule 24    str_b -> UNDERSCORE
Rule 25    numrange_shortcut -> STRING DOT DOT STRING NEWLINE
Rule 26    numrange_shortcut -> STRING DOT DOT NEWLINE
Rule 27    charclass_negation -> NOT COLON charclass
Rule 28    quantified_expr -> quantifier WHITESPACE expr
Rule 29    quantified_expr -> quantifier COLON charclass
Rule 30    quantifier -> repeat_N_times
Rule 31    quantifier -> repeat_range
Rule 32    quantifier -> optionalize
Rule 33    optionalize -> QUESTMARK of
Rule 34    repeat_N_times -> AT NUMBER of
Rule 35    repeat_N_times -> NUMBER of
Rule 36    repeat_range -> AT numrange of
Rule 37    repeat_range -> numrange backtrack MINUS of
Rule 38    repeat_range -> NUMBER backtrack PLUS DOT DOT of
Rule 39    repeat_range -> NUMBER backtrack PLUS DOT DOT NUMBER of
Rule 40    backtrack -> WHITESPACE LT LT
Rule 41    of -> WHITESPACE OF
Rule 42    numrange -> NUMBER DOT DOT
Rule 43    numrange -> NUMBER DOT DOT NUMBER
Rule 44    flagged_expr -> scoped_flags expr
Rule 45    scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE
Rule 46    orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK
Rule 47    oritems -> oritem
Rule 48    oritems -> oritem oritems
Rule 49    oritem -> or condition WHITESPACE QUESTMARK WHITESPACE expr
Rule 50    oritem -> or condition WHITESPACE QUESTMARK NEWLINE
Rule 51    oritem -> or expr
Rule 52    oritem -> or NEWLINE
Rule 53    condition -> LBRACKET VARNAME RBRACKET
Rule 54    or -> BAR
Rule 55    lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND
Rule 56    lookitems -> lookitem NEWLINE
Rule 57    lookitems -> lookitem NEWLINE lookitems
Rule 58    lookitem -> BAR lookup GT
Rule 59    lookitem -> BAR EXCLAMARK lookup GT
Rule 60    lookitem -> LT lookup BAR
Rule 61    lookitem -> LT EXCLAMARK lookup BAR
Rule 62    lookitem -> BAR lookup BAR
Rule 63    lookup_expr -> lookup NEWLINE
Rule 64    lookup -> lookup_item
Rule 65    lookup -> chain_begin lookup_chain chain_end
Rule 66    chain_begin -> AT SLASH SLASH
Rule 67    chain_begin -> AT DOT SLASH
Rule 68    chain_begin -> AT SLASH
Rule 69    chain_begin -> SLASH SLASH
Rule 70    chain_begin -> DOT SLASH
Rule 71    chain_begin -> SLASH
Rule 72    chain_end -> SLASH
Rule 73    chain_end -> DOT
Rule 74    chain_end -> <empty>
Rule 75    lookup_chain -> lookup_item SLASH
Rule 76    lookup_chain -> lookup_item SLASH lookup_chain
Rule 77    lookup_item -> lookup_type
Rule 78    lookup_item -> lookup_type QUESTMARK
Rule 79    lookup_type -> variable_lookup
Rule 80    lookup_type -> negated_lookup
Rule 81    lookup_type -> backreference
Rule 82    lookup_type -> match_until
Rule 83    variable_lookup -> VARNAME
Rule 84    variable_lookup -> FAIL
Rule 85    negated_lookup -> NON VARNAME
Rule 86    backreference -> EQUALSIGN VARNAME
Rule 87    match_until -> DOUBLEUNDERSCORE
Rule 88    charclass -> charitems NEWLINE
Rule 89    charitems -> WHITESPACE charitem
Rule 90    charitems -> WHITESPACE charitem charitems
Rule 91    charitem -> ranged_char
Rule 92    charitem -> single_char
Rule 93    charitem -> period_char
Rule 94    ranged_char -> CHAR DOT DOT CHAR
Rule 95    period_char -> DOT
Rule 96    single_char -> CHAR
Rule 97    optional_subblock -> begin_subblock definitions end_subblock
Rule 98    optional_subblock -> <empty>
Rule 99    begin_subblock -> INDENT
Rule 100   end_subblock -> DEDENT
Rule 101   definitions -> definition
Rule 102   definitions -> definition definitions
Rule 103   definition -> assignment
Rule 104   definition -> GLOBALMARK assignment
Rule 105   assignment -> declaration equals assignment
Rule 106   assignment -> declaration equals expression
Rule 107   assignment -> declaration COLON charclass optional_subblock
Rule 108   equals -> EQUALSIGN
Rule 109   equals -> WHITESPACE EQUALSIGN
Rule 110   equals -> EQUALSIGN WHITESPACE
Rule 111   equals -> WHITESPACE EQUALSIGN WHITESPACE
Rule 112   declaration -> VARNAME
Rule 113   declaration -> LBRACKET VARNAME RBRACKET

Terminals, with rules where they appear

AT                   : 34 36 66 67 68
BAR                  : 54 58 59 60 61 62 62
BEGIN_LOOKAROUND     : 55
BEGIN_ORBLOCK        : 46
CHAR                 : 94 94 96
COLON                : 27 29 107
DEDENT               : 5 100
DOT                  : 23 25 25 26 26 38 38 39 39 42 42 43 43 67 70 73 94 94 95
DOUBLEUNDERSCORE     : 87
END_OF_LOOKAROUND    : 55
END_OF_ORBLOCK       : 46
EQUALSIGN            : 86 108 109 110 111
EXCLAMARK            : 59 61
FAIL                 : 84
FLAGSET              : 9 45
GLOBALMARK           : 104
GT                   : 58 59
INDENT               : 5 99
LBRACKET             : 53 113
LPAREN               : 9 45
LT                   : 40 40 60 61
MINUS                : 37
NEWLINE              : 3 4 5 9 19 20 21 22 25 26 46 50 52 55 56 57 63 88
NON                  : 85
NOT                  : 27
NUMBER               : 34 35 38 39 39 42 43 43
OF                   : 41
PLUS                 : 38 39
QUESTMARK            : 33 49 50 78
RBRACKET             : 53 113
RPAREN               : 9 45
SLASH                : 66 66 67 68 69 69 70 71 72 75 76
STRING               : 19 20 21 22 25 25 26
UNDERSCORE           : 24
VARNAME              : 53 83 85 86 112 113
WHITESPACE           : 2 28 40 41 45 49 49 50 89 90 109 110 111 111
error                : 

Nonterminals, with rules where they appear

assignment           : 103 104 105
backreference        : 81
backtrack            : 37 38 39
begin_subblock       : 97
chain_begin          : 65
chain_end            : 65
charclass            : 27 29 107
charclass_negation   : 18
charitem             : 89 90
charitems            : 88 90
condition            : 49 50
declaration          : 105 106 107
definition           : 101 102
definitions          : 97 102
end_subblock         : 97
equals               : 105 106
expr                 : 10 28 44 49 51
expression           : 7 8 106
flagged_expr         : 14
global_flags         : 6 8
lookaround_expr      : 15
lookitem             : 56 57
lookitems            : 55 57
lookup               : 58 59 60 61 62 63
lookup_chain         : 65 76
lookup_expr          : 12
lookup_item          : 64 75 76
lookup_type          : 77 78
match_until          : 82
negated_lookup       : 80
numrange             : 36 37
numrange_shortcut    : 17
of                   : 33 34 35 36 37 38 39
oprex                : 0
optional_subblock    : 10 107
optionalize          : 32
or                   : 49 50 51 52
orblock_expr         : 13
oritem               : 47 48
oritems              : 46 48
period_char          : 93
quantified_expr      : 16
quantifier           : 28 29
ranged_char          : 91
repeat_N_times       : 30
repeat_range         : 31
root_expression      : 4 5
scoped_flags         : 44
single_char          : 92
str_b                : 20 21 22 22
string_expr          : 11
variable_lookup      : 79

Parsing method: LALR

state 0

    (0) S' -> . oprex
    (1) oprex -> .
    (2) oprex -> . WHITESPACE
    (3) oprex -> . NEWLINE
    (4) oprex -> . NEWLINE root_expression
    (5) oprex -> . NEWLINE INDENT root_expression DEDENT

    $end            reduce using rule 1 (oprex -> .)
    WHITESPACE      shift and go to state 2
    NEWLINE         shift and go to state 3

    oprex                          shift and go to state 1

state 1

    (0) S' -> oprex .



state 2

    (2) oprex -> WHITESPACE .

    $end            reduce using rule 2 (oprex -> WHITESPACE .)


state 3

    (3) oprex -> NEWLINE .
    (4) oprex -> NEWLINE . root_expression
    (5) oprex -> NEWLINE . INDENT root_expression DEDENT
    (6) root_expression -> . global_flags
    (7) root_expression -> . expression
    (8) root_expression -> . global_flags expression
    (9) global_flags -> . LPAREN FLAGSET RPAREN NEWLINE
    (10) expression -> . expr optional_subblock
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . lookaround_expr
    (16) expr -> . quantified_expr
    (17) expr -> . numrange_shortcut
    (18) expr -> . charclass_negation
    (19) string_expr -> . STRING NEWLINE
    (20) string_expr -> . STRING str_b NEWLINE
    (21) string_expr -> . str_b STRING NEWLINE
    (22) string_expr -> . str_b STRING str_b NEWLINE
    (63) lookup_expr -> . lookup NEWLINE
    (46) orblock_expr -> . BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK
    (44) flagged_expr -> . scoped_flags expr
    (55) lookaround_expr -> . BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND
    (28) quantified_expr -> . quantifier WHITESPACE expr
    (29) quantified_expr -> . quantifier COLON charclass
    (25) numrange_shortcut -> . STRING DOT DOT STRING NEWLINE
    (26) numrange_shortcut -> . STRING DOT DOT NEWLINE
    (27) charclass_negation -> . NOT COLON charclass
    (23) str_b -> . DOT
    (24) str_b -> . UNDERSCORE
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (45) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (30) quantifier -> . repeat_N_times
    (31) quantifier -> . repeat_range
    (32) quantifier -> . optionalize
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (34) repeat_N_times -> . AT NUMBER of
    (35) repeat_N_times -> . NUMBER of
    (36) repeat_range -> . AT numrange of
    (37) repeat_range -> . numrange backtrack MINUS of
    (38) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (39) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (33) optionalize -> . QUESTMARK of
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (42) numrange -> . NUMBER DOT DOT
    (43) numrange -> . NUMBER DOT DOT NUMBER
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    $end            reduce using rule 3 (oprex -> NEWLINE .)
    INDENT          shift and go to state 35
    LPAREN          shift and go to state 28
    STRING          shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 18
    BEGIN_LOOKAROUND shift and go to state 26
    NOT             shift and go to state 44
    DOT             shift and go to state 14
    UNDERSCORE      shift and go to state 12
    AT              shift and go to state 27
    SLASH           shift and go to state 40
    NUMBER          shift and go to state 10
    QUESTMARK       shift and go to state 32
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    scoped_flags                   shift and go to state 22
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    global_flags                   shift and go to state 6
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    chain_begin                    shift and go to state 11
    lookup_expr                    shift and go to state 13
    charclass_negation             shift and go to state 15
    optionalize                    shift and go to state 16
    string_expr                    shift and go to state 45
    lookaround_expr                shift and go to state 17
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 20
    negated_lookup                 shift and go to state 21
    orblock_expr                   shift and go to state 24
    numrange                       shift and go to state 25
    quantifier                     shift and go to state 30
    quantified_expr                shift and go to state 34
    match_until                    shift and go to state 36
    expr                           shift and go to state 37
    lookup_type                    shift and go to state 38
    str_b                          shift and go to state 39
    root_expression                shift and go to state 42
    numrange_shortcut              shift and go to state 43
    expression                     shift and go to state 41
    variable_lookup                shift and go to state 47

state 4

    (30) quantifier -> repeat_N_times .

    WHITESPACE      reduce using rule 30 (quantifier -> repeat_N_times .)
    COLON           reduce using rule 30 (quantifier -> repeat_N_times .)


state 5

    (14) expr -> flagged_expr .

    BAR             reduce using rule 14 (expr -> flagged_expr .)
    END_OF_ORBLOCK  reduce using rule 14 (expr -> flagged_expr .)
    INDENT          reduce using rule 14 (expr -> flagged_expr .)
    $end            reduce using rule 14 (expr -> flagged_expr .)
    DEDENT          reduce using rule 14 (expr -> flagged_expr .)
    GLOBALMARK      reduce using rule 14 (expr -> flagged_expr .)
    VARNAME         reduce using rule 14 (expr -> flagged_expr .)
    LBRACKET        reduce using rule 14 (expr -> flagged_expr .)


state 6

    (6) root_expression -> global_flags .
    (8) root_expression -> global_flags . expression
    (10) expression -> . expr optional_subblock
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . lookaround_expr
    (16) expr -> . quantified_expr
    (17) expr -> . numrange_shortcut
    (18) expr -> . charclass_negation
    (19) string_expr -> . STRING NEWLINE
    (20) string_expr -> . STRING str_b NEWLINE
    (21) string_expr -> . str_b STRING NEWLINE
    (22) string_expr -> . str_b STRING str_b NEWLINE
    (63) lookup_expr -> . lookup NEWLINE
    (46) orblock_expr -> . BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK
    (44) flagged_expr -> . scoped_flags expr
    (55) lookaround_expr -> . BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND
    (28) quantified_expr -> . quantifier WHITESPACE expr
    (29) quantified_expr -> . quantifier COLON charclass
    (25) numrange_shortcut -> . STRING DOT DOT STRING NEWLINE
    (26) numrange_shortcut -> . STRING DOT DOT NEWLINE
    (27) charclass_negation -> . NOT COLON charclass
    (23) str_b -> . DOT
    (24) str_b -> . UNDERSCORE
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (45) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (30) quantifier -> . repeat_N_times
    (31) quantifier -> . repeat_range
    (32) quantifier -> . optionalize
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (34) repeat_N_times -> . AT NUMBER of
    (35) repeat_N_times -> . NUMBER of
    (36) repeat_range -> . AT numrange of
    (37) repeat_range -> . numrange backtrack MINUS of
    (38) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (39) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (33) optionalize -> . QUESTMARK of
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (42) numrange -> . NUMBER DOT DOT
    (43) numrange -> . NUMBER DOT DOT NUMBER
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    $end            reduce using rule 6 (root_expression -> global_flags .)
    DEDENT          reduce using rule 6 (root_expression -> global_flags .)
    STRING          shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 18
    BEGIN_LOOKAROUND shift and go to state 26
    NOT             shift and go to state 44
    DOT             shift and go to state 14
    UNDERSCORE      shift and go to state 12
    LPAREN          shift and go to state 48
    AT              shift and go to state 27
    SLASH           shift and go to state 40
    NUMBER          shift and go to state 10
    QUESTMARK       shift and go to state 32
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    scoped_flags                   shift and go to state 22
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    chain_begin                    shift and go to state 11
    lookup_expr                    shift and go to state 13
    charclass_negation             shift and go to state 15
    optionalize                    shift and go to state 16
    string_expr                    shift and go to state 45
    lookaround_expr                shift and go to state 17
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 20
    negated_lookup                 shift and go to state 21
    orblock_expr                   shift and go to state 24
    numrange                       shift and go to state 25
    quantifier                     shift and go to state 30
    quantified_expr                shift and go to state 34
    match_until                    shift and go to state 36
    expr                           shift and go to state 37
    lookup_type                    shift and go to state 38
    str_b                          shift and go to state 39
    expression                     shift and go to state 49
    numrange_shortcut              shift and go to state 43
    variable_lookup                shift and go to state 47

state 7

    (83) variable_lookup -> VARNAME .

    QUESTMARK       reduce using rule 83 (variable_lookup -> VARNAME .)
    SLASH           reduce using rule 83 (variable_lookup -> VARNAME .)
    BAR             reduce using rule 83 (variable_lookup -> VARNAME .)
    GT              reduce using rule 83 (variable_lookup -> VARNAME .)
    NEWLINE         reduce using rule 83 (variable_lookup -> VARNAME .)


state 8

    (31) quantifier -> repeat_range .

    WHITESPACE      reduce using rule 31 (quantifier -> repeat_range .)
    COLON           reduce using rule 31 (quantifier -> repeat_range .)


state 9

    (81) lookup_type -> backreference .

    QUESTMARK       reduce using rule 81 (lookup_type -> backreference .)
    NEWLINE         reduce using rule 81 (lookup_type -> backreference .)
    GT              reduce using rule 81 (lookup_type -> backreference .)
    BAR             reduce using rule 81 (lookup_type -> backreference .)
    SLASH           reduce using rule 81 (lookup_type -> backreference .)


state 10

    (35) repeat_N_times -> NUMBER . of
    (38) repeat_range -> NUMBER . backtrack PLUS DOT DOT of
    (39) repeat_range -> NUMBER . backtrack PLUS DOT DOT NUMBER of
    (42) numrange -> NUMBER . DOT DOT
    (43) numrange -> NUMBER . DOT DOT NUMBER
    (41) of -> . WHITESPACE OF
    (40) backtrack -> . WHITESPACE LT LT

    DOT             shift and go to state 53
    WHITESPACE      shift and go to state 50

    of                             shift and go to state 52
    backtrack                      shift and go to state 51

state 11

    (65) lookup -> chain_begin . lookup_chain chain_end
    (75) lookup_chain -> . lookup_item SLASH
    (76) lookup_chain -> . lookup_item SLASH lookup_chain
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    match_until                    shift and go to state 36
    lookup_chain                   shift and go to state 54
    lookup_type                    shift and go to state 38
    backreference                  shift and go to state 9
    lookup_item                    shift and go to state 55
    negated_lookup                 shift and go to state 21
    variable_lookup                shift and go to state 47

state 12

    (24) str_b -> UNDERSCORE .

    STRING          reduce using rule 24 (str_b -> UNDERSCORE .)
    NEWLINE         reduce using rule 24 (str_b -> UNDERSCORE .)


state 13

    (12) expr -> lookup_expr .

    BAR             reduce using rule 12 (expr -> lookup_expr .)
    END_OF_ORBLOCK  reduce using rule 12 (expr -> lookup_expr .)
    INDENT          reduce using rule 12 (expr -> lookup_expr .)
    $end            reduce using rule 12 (expr -> lookup_expr .)
    DEDENT          reduce using rule 12 (expr -> lookup_expr .)
    GLOBALMARK      reduce using rule 12 (expr -> lookup_expr .)
    VARNAME         reduce using rule 12 (expr -> lookup_expr .)
    LBRACKET        reduce using rule 12 (expr -> lookup_expr .)


state 14

    (23) str_b -> DOT .
    (70) chain_begin -> DOT . SLASH

    STRING          reduce using rule 23 (str_b -> DOT .)
    SLASH           shift and go to state 56


state 15

    (18) expr -> charclass_negation .

    BAR             reduce using rule 18 (expr -> charclass_negation .)
    END_OF_ORBLOCK  reduce using rule 18 (expr -> charclass_negation .)
    INDENT          reduce using rule 18 (expr -> charclass_negation .)
    $end            reduce using rule 18 (expr -> charclass_negation .)
    DEDENT          reduce using rule 18 (expr -> charclass_negation .)
    GLOBALMARK      reduce using rule 18 (expr -> charclass_negation .)
    VARNAME         reduce using rule 18 (expr -> charclass_negation .)
    LBRACKET        reduce using rule 18 (expr -> charclass_negation .)


state 16

    (32) quantifier -> optionalize .

    WHITESPACE      reduce using rule 32 (quantifier -> optionalize .)
    COLON           reduce using rule 32 (quantifier -> optionalize .)


state 17

    (15) expr -> lookaround_expr .

    BAR             reduce using rule 15 (expr -> lookaround_expr .)
    END_OF_ORBLOCK  reduce using rule 15 (expr -> lookaround_expr .)
    INDENT          reduce using rule 15 (expr -> lookaround_expr .)
    $end            reduce using rule 15 (expr -> lookaround_expr .)
    DEDENT          reduce using rule 15 (expr -> lookaround_expr .)
    GLOBALMARK      reduce using rule 15 (expr -> lookaround_expr .)
    VARNAME         reduce using rule 15 (expr -> lookaround_expr .)
    LBRACKET        reduce using rule 15 (expr -> lookaround_expr .)


state 18

    (46) orblock_expr -> BEGIN_ORBLOCK . NEWLINE oritems END_OF_ORBLOCK

    NEWLINE         shift and go to state 57


state 19

    (64) lookup -> lookup_item .

    NEWLINE         reduce using rule 64 (lookup -> lookup_item .)
    BAR             reduce using rule 64 (lookup -> lookup_item .)
    GT              reduce using rule 64 (lookup -> lookup_item .)


state 20

    (63) lookup_expr -> lookup . NEWLINE

    NEWLINE         shift and go to state 58


state 21

    (80) lookup_type -> negated_lookup .

    QUESTMARK       reduce using rule 80 (lookup_type -> negated_lookup .)
    NEWLINE         reduce using rule 80 (lookup_type -> negated_lookup .)
    GT              reduce using rule 80 (lookup_type -> negated_lookup .)
    BAR             reduce using rule 80 (lookup_type -> negated_lookup .)
    SLASH           reduce using rule 80 (lookup_type -> negated_lookup .)


state 22

    (44) flagged_expr -> scoped_flags . expr
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . lookaround_expr
    (16) expr -> . quantified_expr
    (17) expr -> . numrange_shortcut
    (18) expr -> . charclass_negation
    (19) string_expr -> . STRING NEWLINE
    (20) string_expr -> . STRING str_b NEWLINE
    (21) string_expr -> . str_b STRING NEWLINE
    (22) string_expr -> . str_b STRING str_b NEWLINE
    (63) lookup_expr -> . lookup NEWLINE
    (46) orblock_expr -> . BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK
    (44) flagged_expr -> . scoped_flags expr
    (55) lookaround_expr -> . BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND
    (28) quantified_expr -> . quantifier WHITESPACE expr
    (29) quantified_expr -> . quantifier COLON charclass
    (25) numrange_shortcut -> . STRING DOT DOT STRING NEWLINE
    (26) numrange_shortcut -> . STRING DOT DOT NEWLINE
    (27) charclass_negation -> . NOT COLON charclass
    (23) str_b -> . DOT
    (24) str_b -> . UNDERSCORE
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (45) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (30) quantifier -> . repeat_N_times
    (31) quantifier -> . repeat_range
    (32) quantifier -> . optionalize
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (34) repeat_N_times -> . AT NUMBER of
    (35) repeat_N_times -> . NUMBER of
    (36) repeat_range -> . AT numrange of
    (37) repeat_range -> . numrange backtrack MINUS of
    (38) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (39) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (33) optionalize -> . QUESTMARK of
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (42) numrange -> . NUMBER DOT DOT
    (43) numrange -> . NUMBER DOT DOT NUMBER
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    STRING          shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 18
    BEGIN_LOOKAROUND shift and go to state 26
    NOT             shift and go to state 44
    DOT             shift and go to state 14
    UNDERSCORE      shift and go to state 12
    LPAREN          shift and go to state 48
    AT              shift and go to state 27
    SLASH           shift and go to state 40
    NUMBER          shift and go to state 10
    QUESTMARK       shift and go to state 32
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    scoped_flags                   shift and go to state 22
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    chain_begin                    shift and go to state 11
    lookup_expr                    shift and go to state 13
    charclass_negation             shift and go to state 15
    optionalize                    shift and go to state 16
    string_expr                    shift and go to state 45
    lookaround_expr                shift and go to state 17
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 20
    negated_lookup                 shift and go to state 21
    orblock_expr                   shift and go to state 24
    numrange                       shift and go to state 25
    quantifier                     shift and go to state 30
    quantified_expr                shift and go to state 34
    match_until                    shift and go to state 36
    expr                           shift and go to state 59
    lookup_type                    shift and go to state 38
    str_b                          shift and go to state 39
    numrange_shortcut              shift and go to state 43
    variable_lookup                shift and go to state 47

state 23

    (19) string_expr -> STRING . NEWLINE
    (20) string_expr -> STRING . str_b NEWLINE
    (25) numrange_shortcut -> STRING . DOT DOT STRING NEWLINE
    (26) numrange_shortcut -> STRING . DOT DOT NEWLINE
    (23) str_b -> . DOT
    (24) str_b -> . UNDERSCORE

    NEWLINE         shift and go to state 60
    DOT             shift and go to state 61
    UNDERSCORE      shift and go to state 12

    str_b                          shift and go to state 62

state 24

    (13) expr -> orblock_expr .

    BAR             reduce using rule 13 (expr -> orblock_expr .)
    END_OF_ORBLOCK  reduce using rule 13 (expr -> orblock_expr .)
    INDENT          reduce using rule 13 (expr -> orblock_expr .)
    $end            reduce using rule 13 (expr -> orblock_expr .)
    DEDENT          reduce using rule 13 (expr -> orblock_expr .)
    GLOBALMARK      reduce using rule 13 (expr -> orblock_expr .)
    VARNAME         reduce using rule 13 (expr -> orblock_expr .)
    LBRACKET        reduce using rule 13 (expr -> orblock_expr .)


state 25

    (37) repeat_range -> numrange . backtrack MINUS of
    (40) backtrack -> . WHITESPACE LT LT

    WHITESPACE      shift and go to state 63

    backtrack                      shift and go to state 64

state 26

    (55) lookaround_expr -> BEGIN_LOOKAROUND . NEWLINE lookitems END_OF_LOOKAROUND

    NEWLINE         shift and go to state 65


state 27

    (66) chain_begin -> AT . SLASH SLASH
    (67) chain_begin -> AT . DOT SLASH
    (68) chain_begin -> AT . SLASH
    (34) repeat_N_times -> AT . NUMBER of
    (36) repeat_range -> AT . numrange of
    (42) numrange -> . NUMBER DOT DOT
    (43) numrange -> . NUMBER DOT DOT NUMBER

    SLASH           shift and go to state 68
    DOT             shift and go to state 69
    NUMBER          shift and go to state 66

    numrange                       shift and go to state 67

state 28

    (9) global_flags -> LPAREN . FLAGSET RPAREN NEWLINE
    (45) scoped_flags -> LPAREN . FLAGSET RPAREN WHITESPACE

    FLAGSET         shift and go to state 70


state 29

    (84) variable_lookup -> FAIL .

    QUESTMARK       reduce using rule 84 (variable_lookup -> FAIL .)
    SLASH           reduce using rule 84 (variable_lookup -> FAIL .)
    BAR             reduce using rule 84 (variable_lookup -> FAIL .)
    NEWLINE         reduce using rule 84 (variable_lookup -> FAIL .)
    GT              reduce using rule 84 (variable_lookup -> FAIL .)


state 30

    (28) quantified_expr -> quantifier . WHITESPACE expr
    (29) quantified_expr -> quantifier . COLON charclass

    WHITESPACE      shift and go to state 72
    COLON           shift and go to state 71


state 31

    (86) backreference -> EQUALSIGN . VARNAME

    VARNAME         shift and go to state 73


state 32

    (33) optionalize -> QUESTMARK . of
    (41) of -> . WHITESPACE OF

    WHITESPACE      shift and go to state 75

    of                             shift and go to state 74

state 33

    (85) negated_lookup -> NON . VARNAME

    VARNAME         shift and go to state 76


state 34

    (16) expr -> quantified_expr .

    BAR             reduce using rule 16 (expr -> quantified_expr .)
    END_OF_ORBLOCK  reduce using rule 16 (expr -> quantified_expr .)
    INDENT          reduce using rule 16 (expr -> quantified_expr .)
    $end            reduce using rule 16 (expr -> quantified_expr .)
    DEDENT          reduce using rule 16 (expr -> quantified_expr .)
    GLOBALMARK      reduce using rule 16 (expr -> quantified_expr .)
    VARNAME         reduce using rule 16 (expr -> quantified_expr .)
    LBRACKET        reduce using rule 16 (expr -> quantified_expr .)


state 35

    (5) oprex -> NEWLINE INDENT . root_expression DEDENT
    (6) root_expression -> . global_flags
    (7) root_expression -> . expression
    (8) root_expression -> . global_flags expression
    (9) global_flags -> . LPAREN FLAGSET RPAREN NEWLINE
    (10) expression -> . expr optional_subblock
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . lookaround_expr
    (16) expr -> . quantified_expr
    (17) expr -> . numrange_shortcut
    (18) expr -> . charclass_negation
    (19) string_expr -> . STRING NEWLINE
    (20) string_expr -> . STRING str_b NEWLINE
    (21) string_expr -> . str_b STRING NEWLINE
    (22) string_expr -> . str_b STRING str_b NEWLINE
    (63) lookup_expr -> . lookup NEWLINE
    (46) orblock_expr -> . BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK
    (44) flagged_expr -> . scoped_flags expr
    (55) lookaround_expr -> . BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND
    (28) quantified_expr -> . quantifier WHITESPACE expr
    (29) quantified_expr -> . quantifier COLON charclass
    (25) numrange_shortcut -> . STRING DOT DOT STRING NEWLINE
    (26) numrange_shortcut -> . STRING DOT DOT NEWLINE
    (27) charclass_negation -> . NOT COLON charclass
    (23) str_b -> . DOT
    (24) str_b -> . UNDERSCORE
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (45) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (30) quantifier -> . repeat_N_times
    (31) quantifier -> . repeat_range
    (32) quantifier -> . optionalize
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (34) repeat_N_times -> . AT NUMBER of
    (35) repeat_N_times -> . NUMBER of
    (36) repeat_range -> . AT numrange of
    (37) repeat_range -> . numrange backtrack MINUS of
    (38) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (39) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (33) optionalize -> . QUESTMARK of
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (42) numrange -> . NUMBER DOT DOT
    (43) numrange -> . NUMBER DOT DOT NUMBER
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    LPAREN          shift and go to state 28
    STRING          shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 18
    BEGIN_LOOKAROUND shift and go to state 26
    NOT             shift and go to state 44
    DOT             shift and go to state 14
    UNDERSCORE      shift and go to state 12
    AT              shift and go to state 27
    SLASH           shift and go to state 40
    NUMBER          shift and go to state 10
    QUESTMARK       shift and go to state 32
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    scoped_flags                   shift and go to state 22
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    global_flags                   shift and go to state 6
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    chain_begin                    shift and go to state 11
    lookup_expr                    shift and go to state 13
    charclass_negation             shift and go to state 15
    optionalize                    shift and go to state 16
    string_expr                    shift and go to state 45
    lookaround_expr                shift and go to state 17
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 20
    negated_lookup                 shift and go to state 21
    orblock_expr                   shift and go to state 24
    numrange                       shift and go to state 25
    quantifier                     shift and go to state 30
    quantified_expr                shift and go to state 34
    match_until                    shift and go to state 36
    expr                           shift and go to state 37
    lookup_type                    shift and go to state 38
    str_b                          shift and go to state 39
    root_expression                shift and go to state 77
    numrange_shortcut              shift and go to state 43
    expression                     shift and go to state 41
    variable_lookup                shift and go to state 47

state 36

    (82) lookup_type -> match_until .

    QUESTMARK       reduce using rule 82 (lookup_type -> match_until .)
    NEWLINE         reduce using rule 82 (lookup_type -> match_until .)
    GT              reduce using rule 82 (lookup_type -> match_until .)
    BAR             reduce using rule 82 (lookup_type -> match_until .)
    SLASH           reduce using rule 82 (lookup_type -> match_until .)


state 37

    (10) expression -> expr . optional_subblock
    (97) optional_subblock -> . begin_subblock definitions end_subblock
    (98) optional_subblock -> .
    (99) begin_subblock -> . INDENT

    $end            reduce using rule 98 (optional_subblock -> .)
    DEDENT          reduce using rule 98 (optional_subblock -> .)
    GLOBALMARK      reduce using rule 98 (optional_subblock -> .)
    VARNAME         reduce using rule 98 (optional_subblock -> .)
    LBRACKET        reduce using rule 98 (optional_subblock -> .)
    INDENT          shift and go to state 78

    optional_subblock              shift and go to state 80
    begin_subblock                 shift and go to state 79

state 38

    (77) lookup_item -> lookup_type .
    (78) lookup_item -> lookup_type . QUESTMARK

    SLASH           reduce using rule 77 (lookup_item -> lookup_type .)
    NEWLINE         reduce using rule 77 (lookup_item -> lookup_type .)
    BAR             reduce using rule 77 (lookup_item -> lookup_type .)
    GT              reduce using rule 77 (lookup_item -> lookup_type .)
    QUESTMARK       shift and go to state 81


state 39

    (21) string_expr -> str_b . STRING NEWLINE
    (22) string_expr -> str_b . STRING str_b NEWLINE

    STRING          shift and go to state 82


state 40

    (69) chain_begin -> SLASH . SLASH
    (71) chain_begin -> SLASH .

    SLASH           shift and go to state 83
    VARNAME         reduce using rule 71 (chain_begin -> SLASH .)
    FAIL            reduce using rule 71 (chain_begin -> SLASH .)
    NON             reduce using rule 71 (chain_begin -> SLASH .)
    EQUALSIGN       reduce using rule 71 (chain_begin -> SLASH .)
    DOUBLEUNDERSCORE reduce using rule 71 (chain_begin -> SLASH .)


state 41

    (7) root_expression -> expression .

    $end            reduce using rule 7 (root_expression -> expression .)
    DEDENT          reduce using rule 7 (root_expression -> expression .)


state 42

    (4) oprex -> NEWLINE root_expression .

    $end            reduce using rule 4 (oprex -> NEWLINE root_expression .)


state 43

    (17) expr -> numrange_shortcut .

    BAR             reduce using rule 17 (expr -> numrange_shortcut .)
    END_OF_ORBLOCK  reduce using rule 17 (expr -> numrange_shortcut .)
    INDENT          reduce using rule 17 (expr -> numrange_shortcut .)
    $end            reduce using rule 17 (expr -> numrange_shortcut .)
    DEDENT          reduce using rule 17 (expr -> numrange_shortcut .)
    GLOBALMARK      reduce using rule 17 (expr -> numrange_shortcut .)
    VARNAME         reduce using rule 17 (expr -> numrange_shortcut .)
    LBRACKET        reduce using rule 17 (expr -> numrange_shortcut .)


state 44

    (27) charclass_negation -> NOT . COLON charclass

    COLON           shift and go to state 84


state 45

    (11) expr -> string_expr .

    BAR             reduce using rule 11 (expr -> string_expr .)
    END_OF_ORBLOCK  reduce using rule 11 (expr -> string_expr .)
    INDENT          reduce using rule 11 (expr -> string_expr .)
    $end            reduce using rule 11 (expr -> string_expr .)
    DEDENT          reduce using rule 11 (expr -> string_expr .)
    GLOBALMARK      reduce using rule 11 (expr -> string_expr .)
    VARNAME         reduce using rule 11 (expr -> string_expr .)
    LBRACKET        reduce using rule 11 (expr -> string_expr .)


state 46

    (87) match_until -> DOUBLEUNDERSCORE .

    QUESTMARK       reduce using rule 87 (match_until -> DOUBLEUNDERSCORE .)
    NEWLINE         reduce using rule 87 (match_until -> DOUBLEUNDERSCORE .)
    BAR             reduce using rule 87 (match_until -> DOUBLEUNDERSCORE .)
    GT              reduce using rule 87 (match_until -> DOUBLEUNDERSCORE .)
    SLASH           reduce using rule 87 (match_until -> DOUBLEUNDERSCORE .)


state 47

    (79) lookup_type -> variable_lookup .

    QUESTMARK       reduce using rule 79 (lookup_type -> variable_lookup .)
    NEWLINE         reduce using rule 79 (lookup_type -> variable_lookup .)
    GT              reduce using rule 79 (lookup_type -> variable_lookup .)
    BAR             reduce using rule 79 (lookup_type -> variable_lookup .)
    SLASH           reduce using rule 79 (lookup_type -> variable_lookup .)


state 48

    (45) scoped_flags -> LPAREN . FLAGSET RPAREN WHITESPACE

    FLAGSET         shift and go to state 85


state 49

    (8) root_expression -> global_flags expression .

    $end            reduce using rule 8 (root_expression -> global_flags expression .)
    DEDENT          reduce using rule 8 (root_expression -> global_flags expression .)


state 50

    (41) of -> WHITESPACE . OF
    (40) backtrack -> WHITESPACE . LT LT

    OF              shift and go to state 86
    LT              shift and go to state 87


state 51

    (38) repeat_range -> NUMBER backtrack . PLUS DOT DOT of
    (39) repeat_range -> NUMBER backtrack . PLUS DOT DOT NUMBER of

    PLUS            shift and go to state 88


state 52

    (35) repeat_N_times -> NUMBER of .

    WHITESPACE      reduce using rule 35 (repeat_N_times -> NUMBER of .)
    COLON           reduce using rule 35 (repeat_N_times -> NUMBER of .)


state 53

    (42) numrange -> NUMBER DOT . DOT
    (43) numrange -> NUMBER DOT . DOT NUMBER

    DOT             shift and go to state 89


state 54

    (65) lookup -> chain_begin lookup_chain . chain_end
    (72) chain_end -> . SLASH
    (73) chain_end -> . DOT
    (74) chain_end -> .

    SLASH           shift and go to state 92
    DOT             shift and go to state 91
    NEWLINE         reduce using rule 74 (chain_end -> .)
    GT              reduce using rule 74 (chain_end -> .)
    BAR             reduce using rule 74 (chain_end -> .)

    chain_end                      shift and go to state 90

state 55

    (75) lookup_chain -> lookup_item . SLASH
    (76) lookup_chain -> lookup_item . SLASH lookup_chain

    SLASH           shift and go to state 93


state 56

    (70) chain_begin -> DOT SLASH .

    VARNAME         reduce using rule 70 (chain_begin -> DOT SLASH .)
    FAIL            reduce using rule 70 (chain_begin -> DOT SLASH .)
    NON             reduce using rule 70 (chain_begin -> DOT SLASH .)
    EQUALSIGN       reduce using rule 70 (chain_begin -> DOT SLASH .)
    DOUBLEUNDERSCORE reduce using rule 70 (chain_begin -> DOT SLASH .)


state 57

    (46) orblock_expr -> BEGIN_ORBLOCK NEWLINE . oritems END_OF_ORBLOCK
    (47) oritems -> . oritem
    (48) oritems -> . oritem oritems
    (49) oritem -> . or condition WHITESPACE QUESTMARK WHITESPACE expr
    (50) oritem -> . or condition WHITESPACE QUESTMARK NEWLINE
    (51) oritem -> . or expr
    (52) oritem -> . or NEWLINE
    (54) or -> . BAR

    BAR             shift and go to state 94

    oritems                        shift and go to state 95
    oritem                         shift and go to state 96
    or                             shift and go to state 97

state 58

    (63) lookup_expr -> lookup NEWLINE .

    INDENT          reduce using rule 63 (lookup_expr -> lookup NEWLINE .)
    $end            reduce using rule 63 (lookup_expr -> lookup NEWLINE .)
    DEDENT          reduce using rule 63 (lookup_expr -> lookup NEWLINE .)
    BAR             reduce using rule 63 (lookup_expr -> lookup NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 63 (lookup_expr -> lookup NEWLINE .)
    GLOBALMARK      reduce using rule 63 (lookup_expr -> lookup NEWLINE .)
    VARNAME         reduce using rule 63 (lookup_expr -> lookup NEWLINE .)
    LBRACKET        reduce using rule 63 (lookup_expr -> lookup NEWLINE .)


state 59

    (44) flagged_expr -> scoped_flags expr .

    INDENT          reduce using rule 44 (flagged_expr -> scoped_flags expr .)
    GLOBALMARK      reduce using rule 44 (flagged_expr -> scoped_flags expr .)
    VARNAME         reduce using rule 44 (flagged_expr -> scoped_flags expr .)
    LBRACKET        reduce using rule 44 (flagged_expr -> scoped_flags expr .)
    DEDENT          reduce using rule 44 (flagged_expr -> scoped_flags expr .)
    $end            reduce using rule 44 (flagged_expr -> scoped_flags expr .)
    BAR             reduce using rule 44 (flagged_expr -> scoped_flags expr .)
    END_OF_ORBLOCK  reduce using rule 44 (flagged_expr -> scoped_flags expr .)


state 60

    (19) string_expr -> STRING NEWLINE .

    INDENT          reduce using rule 19 (string_expr -> STRING NEWLINE .)
    DEDENT          reduce using rule 19 (string_expr -> STRING NEWLINE .)
    $end            reduce using rule 19 (string_expr -> STRING NEWLINE .)
    BAR             reduce using rule 19 (string_expr -> STRING NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 19 (string_expr -> STRING NEWLINE .)
    GLOBALMARK      reduce using rule 19 (string_expr -> STRING NEWLINE .)
    VARNAME         reduce using rule 19 (string_expr -> STRING NEWLINE .)
    LBRACKET        reduce using rule 19 (string_expr -> STRING NEWLINE .)


state 61

    (25) numrange_shortcut -> STRING DOT . DOT STRING NEWLINE
    (26) numrange_shortcut -> STRING DOT . DOT NEWLINE
    (23) str_b -> DOT .

    DOT             shift and go to state 98
    NEWLINE         reduce using rule 23 (str_b -> DOT .)


state 62

    (20) string_expr -> STRING str_b . NEWLINE

    NEWLINE         shift and go to state 99


state 63

    (40) backtrack -> WHITESPACE . LT LT

    LT              shift and go to state 87


state 64

    (37) repeat_range -> numrange backtrack . MINUS of

    MINUS           shift and go to state 100


state 65

    (55) lookaround_expr -> BEGIN_LOOKAROUND NEWLINE . lookitems END_OF_LOOKAROUND
    (56) lookitems -> . lookitem NEWLINE
    (57) lookitems -> . lookitem NEWLINE lookitems
    (58) lookitem -> . BAR lookup GT
    (59) lookitem -> . BAR EXCLAMARK lookup GT
    (60) lookitem -> . LT lookup BAR
    (61) lookitem -> . LT EXCLAMARK lookup BAR
    (62) lookitem -> . BAR lookup BAR

    BAR             shift and go to state 101
    LT              shift and go to state 103

    lookitem                       shift and go to state 104
    lookitems                      shift and go to state 102

state 66

    (34) repeat_N_times -> AT NUMBER . of
    (42) numrange -> NUMBER . DOT DOT
    (43) numrange -> NUMBER . DOT DOT NUMBER
    (41) of -> . WHITESPACE OF

    DOT             shift and go to state 53
    WHITESPACE      shift and go to state 75

    of                             shift and go to state 105

state 67

    (36) repeat_range -> AT numrange . of
    (41) of -> . WHITESPACE OF

    WHITESPACE      shift and go to state 75

    of                             shift and go to state 106

state 68

    (66) chain_begin -> AT SLASH . SLASH
    (68) chain_begin -> AT SLASH .

    SLASH           shift and go to state 107
    VARNAME         reduce using rule 68 (chain_begin -> AT SLASH .)
    FAIL            reduce using rule 68 (chain_begin -> AT SLASH .)
    NON             reduce using rule 68 (chain_begin -> AT SLASH .)
    EQUALSIGN       reduce using rule 68 (chain_begin -> AT SLASH .)
    DOUBLEUNDERSCORE reduce using rule 68 (chain_begin -> AT SLASH .)


state 69

    (67) chain_begin -> AT DOT . SLASH

    SLASH           shift and go to state 108


state 70

    (9) global_flags -> LPAREN FLAGSET . RPAREN NEWLINE
    (45) scoped_flags -> LPAREN FLAGSET . RPAREN WHITESPACE

    RPAREN          shift and go to state 109


state 71

    (29) quantified_expr -> quantifier COLON . charclass
    (88) charclass -> . charitems NEWLINE
    (89) charitems -> . WHITESPACE charitem
    (90) charitems -> . WHITESPACE charitem charitems

    WHITESPACE      shift and go to state 110

    charitems                      shift and go to state 112
    charclass                      shift and go to state 111

state 72

    (28) quantified_expr -> quantifier WHITESPACE . expr
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . lookaround_expr
    (16) expr -> . quantified_expr
    (17) expr -> . numrange_shortcut
    (18) expr -> . charclass_negation
    (19) string_expr -> . STRING NEWLINE
    (20) string_expr -> . STRING str_b NEWLINE
    (21) string_expr -> . str_b STRING NEWLINE
    (22) string_expr -> . str_b STRING str_b NEWLINE
    (63) lookup_expr -> . lookup NEWLINE
    (46) orblock_expr -> . BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK
    (44) flagged_expr -> . scoped_flags expr
    (55) lookaround_expr -> . BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND
    (28) quantified_expr -> . quantifier WHITESPACE expr
    (29) quantified_expr -> . quantifier COLON charclass
    (25) numrange_shortcut -> . STRING DOT DOT STRING NEWLINE
    (26) numrange_shortcut -> . STRING DOT DOT NEWLINE
    (27) charclass_negation -> . NOT COLON charclass
    (23) str_b -> . DOT
    (24) str_b -> . UNDERSCORE
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (45) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (30) quantifier -> . repeat_N_times
    (31) quantifier -> . repeat_range
    (32) quantifier -> . optionalize
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (34) repeat_N_times -> . AT NUMBER of
    (35) repeat_N_times -> . NUMBER of
    (36) repeat_range -> . AT numrange of
    (37) repeat_range -> . numrange backtrack MINUS of
    (38) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (39) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (33) optionalize -> . QUESTMARK of
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (42) numrange -> . NUMBER DOT DOT
    (43) numrange -> . NUMBER DOT DOT NUMBER
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    STRING          shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 18
    BEGIN_LOOKAROUND shift and go to state 26
    NOT             shift and go to state 44
    DOT             shift and go to state 14
    UNDERSCORE      shift and go to state 12
    LPAREN          shift and go to state 48
    AT              shift and go to state 27
    SLASH           shift and go to state 40
    NUMBER          shift and go to state 10
    QUESTMARK       shift and go to state 32
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    scoped_flags                   shift and go to state 22
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    chain_begin                    shift and go to state 11
    lookup_expr                    shift and go to state 13
    charclass_negation             shift and go to state 15
    optionalize                    shift and go to state 16
    string_expr                    shift and go to state 45
    lookaround_expr                shift and go to state 17
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 20
    negated_lookup                 shift and go to state 21
    orblock_expr                   shift and go to state 24
    numrange                       shift and go to state 25
    quantifier                     shift and go to state 30
    quantified_expr                shift and go to state 34
    match_until                    shift and go to state 36
    expr                           shift and go to state 113
    lookup_type                    shift and go to state 38
    str_b                          shift and go to state 39
    numrange_shortcut              shift and go to state 43
    variable_lookup                shift and go to state 47

state 73

    (86) backreference -> EQUALSIGN VARNAME .

    QUESTMARK       reduce using rule 86 (backreference -> EQUALSIGN VARNAME .)
    NEWLINE         reduce using rule 86 (backreference -> EQUALSIGN VARNAME .)
    GT              reduce using rule 86 (backreference -> EQUALSIGN VARNAME .)
    BAR             reduce using rule 86 (backreference -> EQUALSIGN VARNAME .)
    SLASH           reduce using rule 86 (backreference -> EQUALSIGN VARNAME .)


state 74

    (33) optionalize -> QUESTMARK of .

    WHITESPACE      reduce using rule 33 (optionalize -> QUESTMARK of .)
    COLON           reduce using rule 33 (optionalize -> QUESTMARK of .)


state 75

    (41) of -> WHITESPACE . OF

    OF              shift and go to state 86


state 76

    (85) negated_lookup -> NON VARNAME .

    QUESTMARK       reduce using rule 85 (negated_lookup -> NON VARNAME .)
    NEWLINE         reduce using rule 85 (negated_lookup -> NON VARNAME .)
    BAR             reduce using rule 85 (negated_lookup -> NON VARNAME .)
    GT              reduce using rule 85 (negated_lookup -> NON VARNAME .)
    SLASH           reduce using rule 85 (negated_lookup -> NON VARNAME .)


state 77

    (5) oprex -> NEWLINE INDENT root_expression . DEDENT

    DEDENT          shift and go to state 114


state 78

    (99) begin_subblock -> INDENT .

    GLOBALMARK      reduce using rule 99 (begin_subblock -> INDENT .)
    VARNAME         reduce using rule 99 (begin_subblock -> INDENT .)
    LBRACKET        reduce using rule 99 (begin_subblock -> INDENT .)


state 79

    (97) optional_subblock -> begin_subblock . definitions end_subblock
    (101) definitions -> . definition
    (102) definitions -> . definition definitions
    (103) definition -> . assignment
    (104) definition -> . GLOBALMARK assignment
    (105) assignment -> . declaration equals assignment
    (106) assignment -> . declaration equals expression
    (107) assignment -> . declaration COLON charclass optional_subblock
    (112) declaration -> . VARNAME
    (113) declaration -> . LBRACKET VARNAME RBRACKET

    GLOBALMARK      shift and go to state 117
    VARNAME         shift and go to state 118
    LBRACKET        shift and go to state 119

    definition                     shift and go to state 115
    declaration                    shift and go to state 116
    assignment                     shift and go to state 120
    definitions                    shift and go to state 121

state 80

    (10) expression -> expr optional_subblock .

    $end            reduce using rule 10 (expression -> expr optional_subblock .)
    DEDENT          reduce using rule 10 (expression -> expr optional_subblock .)
    GLOBALMARK      reduce using rule 10 (expression -> expr optional_subblock .)
    VARNAME         reduce using rule 10 (expression -> expr optional_subblock .)
    LBRACKET        reduce using rule 10 (expression -> expr optional_subblock .)


state 81

    (78) lookup_item -> lookup_type QUESTMARK .

    SLASH           reduce using rule 78 (lookup_item -> lookup_type QUESTMARK .)
    NEWLINE         reduce using rule 78 (lookup_item -> lookup_type QUESTMARK .)
    BAR             reduce using rule 78 (lookup_item -> lookup_type QUESTMARK .)
    GT              reduce using rule 78 (lookup_item -> lookup_type QUESTMARK .)


state 82

    (21) string_expr -> str_b STRING . NEWLINE
    (22) string_expr -> str_b STRING . str_b NEWLINE
    (23) str_b -> . DOT
    (24) str_b -> . UNDERSCORE

    NEWLINE         shift and go to state 122
    DOT             shift and go to state 123
    UNDERSCORE      shift and go to state 12

    str_b                          shift and go to state 124

state 83

    (69) chain_begin -> SLASH SLASH .

    VARNAME         reduce using rule 69 (chain_begin -> SLASH SLASH .)
    FAIL            reduce using rule 69 (chain_begin -> SLASH SLASH .)
    NON             reduce using rule 69 (chain_begin -> SLASH SLASH .)
    EQUALSIGN       reduce using rule 69 (chain_begin -> SLASH SLASH .)
    DOUBLEUNDERSCORE reduce using rule 69 (chain_begin -> SLASH SLASH .)


state 84

    (27) charclass_negation -> NOT COLON . charclass
    (88) charclass -> . charitems NEWLINE
    (89) charitems -> . WHITESPACE charitem
    (90) charitems -> . WHITESPACE charitem charitems

    WHITESPACE      shift and go to state 110

    charitems                      shift and go to state 112
    charclass                      shift and go to state 125

state 85

    (45) scoped_flags -> LPAREN FLAGSET . RPAREN WHITESPACE

    RPAREN          shift and go to state 126


state 86

    (41) of -> WHITESPACE OF .

    WHITESPACE      reduce using rule 41 (of -> WHITESPACE OF .)
    COLON           reduce using rule 41 (of -> WHITESPACE OF .)


state 87

    (40) backtrack -> WHITESPACE LT . LT

    LT              shift and go to state 127


state 88

    (38) repeat_range -> NUMBER backtrack PLUS . DOT DOT of
    (39) repeat_range -> NUMBER backtrack PLUS . DOT DOT NUMBER of

    DOT             shift and go to state 128


state 89

    (42) numrange -> NUMBER DOT DOT .
    (43) numrange -> NUMBER DOT DOT . NUMBER

    WHITESPACE      reduce using rule 42 (numrange -> NUMBER DOT DOT .)
    NUMBER          shift and go to state 129


state 90

    (65) lookup -> chain_begin lookup_chain chain_end .

    NEWLINE         reduce using rule 65 (lookup -> chain_begin lookup_chain chain_end .)
    BAR             reduce using rule 65 (lookup -> chain_begin lookup_chain chain_end .)
    GT              reduce using rule 65 (lookup -> chain_begin lookup_chain chain_end .)


state 91

    (73) chain_end -> DOT .

    NEWLINE         reduce using rule 73 (chain_end -> DOT .)
    GT              reduce using rule 73 (chain_end -> DOT .)
    BAR             reduce using rule 73 (chain_end -> DOT .)


state 92

    (72) chain_end -> SLASH .

    NEWLINE         reduce using rule 72 (chain_end -> SLASH .)
    GT              reduce using rule 72 (chain_end -> SLASH .)
    BAR             reduce using rule 72 (chain_end -> SLASH .)


state 93

    (75) lookup_chain -> lookup_item SLASH .
    (76) lookup_chain -> lookup_item SLASH . lookup_chain
    (75) lookup_chain -> . lookup_item SLASH
    (76) lookup_chain -> . lookup_item SLASH lookup_chain
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    SLASH           reduce using rule 75 (lookup_chain -> lookup_item SLASH .)
    DOT             reduce using rule 75 (lookup_chain -> lookup_item SLASH .)
    NEWLINE         reduce using rule 75 (lookup_chain -> lookup_item SLASH .)
    GT              reduce using rule 75 (lookup_chain -> lookup_item SLASH .)
    BAR             reduce using rule 75 (lookup_chain -> lookup_item SLASH .)
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    match_until                    shift and go to state 36
    lookup_type                    shift and go to state 38
    backreference                  shift and go to state 9
    lookup_item                    shift and go to state 55
    lookup_chain                   shift and go to state 130
    negated_lookup                 shift and go to state 21
    variable_lookup                shift and go to state 47

state 94

    (54) or -> BAR .

    NEWLINE         reduce using rule 54 (or -> BAR .)
    LBRACKET        reduce using rule 54 (or -> BAR .)
    STRING          reduce using rule 54 (or -> BAR .)
    BEGIN_ORBLOCK   reduce using rule 54 (or -> BAR .)
    BEGIN_LOOKAROUND reduce using rule 54 (or -> BAR .)
    NOT             reduce using rule 54 (or -> BAR .)
    DOT             reduce using rule 54 (or -> BAR .)
    UNDERSCORE      reduce using rule 54 (or -> BAR .)
    LPAREN          reduce using rule 54 (or -> BAR .)
    AT              reduce using rule 54 (or -> BAR .)
    SLASH           reduce using rule 54 (or -> BAR .)
    NUMBER          reduce using rule 54 (or -> BAR .)
    QUESTMARK       reduce using rule 54 (or -> BAR .)
    VARNAME         reduce using rule 54 (or -> BAR .)
    FAIL            reduce using rule 54 (or -> BAR .)
    NON             reduce using rule 54 (or -> BAR .)
    EQUALSIGN       reduce using rule 54 (or -> BAR .)
    DOUBLEUNDERSCORE reduce using rule 54 (or -> BAR .)


state 95

    (46) orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems . END_OF_ORBLOCK

    END_OF_ORBLOCK  shift and go to state 131


state 96

    (47) oritems -> oritem .
    (48) oritems -> oritem . oritems
    (47) oritems -> . oritem
    (48) oritems -> . oritem oritems
    (49) oritem -> . or condition WHITESPACE QUESTMARK WHITESPACE expr
    (50) oritem -> . or condition WHITESPACE QUESTMARK NEWLINE
    (51) oritem -> . or expr
    (52) oritem -> . or NEWLINE
    (54) or -> . BAR

    END_OF_ORBLOCK  reduce using rule 47 (oritems -> oritem .)
    BAR             shift and go to state 94

    oritems                        shift and go to state 132
    oritem                         shift and go to state 96
    or                             shift and go to state 97

state 97

    (49) oritem -> or . condition WHITESPACE QUESTMARK WHITESPACE expr
    (50) oritem -> or . condition WHITESPACE QUESTMARK NEWLINE
    (51) oritem -> or . expr
    (52) oritem -> or . NEWLINE
    (53) condition -> . LBRACKET VARNAME RBRACKET
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . lookaround_expr
    (16) expr -> . quantified_expr
    (17) expr -> . numrange_shortcut
    (18) expr -> . charclass_negation
    (19) string_expr -> . STRING NEWLINE
    (20) string_expr -> . STRING str_b NEWLINE
    (21) string_expr -> . str_b STRING NEWLINE
    (22) string_expr -> . str_b STRING str_b NEWLINE
    (63) lookup_expr -> . lookup NEWLINE
    (46) orblock_expr -> . BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK
    (44) flagged_expr -> . scoped_flags expr
    (55) lookaround_expr -> . BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND
    (28) quantified_expr -> . quantifier WHITESPACE expr
    (29) quantified_expr -> . quantifier COLON charclass
    (25) numrange_shortcut -> . STRING DOT DOT STRING NEWLINE
    (26) numrange_shortcut -> . STRING DOT DOT NEWLINE
    (27) charclass_negation -> . NOT COLON charclass
    (23) str_b -> . DOT
    (24) str_b -> . UNDERSCORE
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (45) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (30) quantifier -> . repeat_N_times
    (31) quantifier -> . repeat_range
    (32) quantifier -> . optionalize
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (34) repeat_N_times -> . AT NUMBER of
    (35) repeat_N_times -> . NUMBER of
    (36) repeat_range -> . AT numrange of
    (37) repeat_range -> . numrange backtrack MINUS of
    (38) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (39) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (33) optionalize -> . QUESTMARK of
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (42) numrange -> . NUMBER DOT DOT
    (43) numrange -> . NUMBER DOT DOT NUMBER
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    NEWLINE         shift and go to state 134
    LBRACKET        shift and go to state 133
    STRING          shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 18
    BEGIN_LOOKAROUND shift and go to state 26
    NOT             shift and go to state 44
    DOT             shift and go to state 14
    UNDERSCORE      shift and go to state 12
    LPAREN          shift and go to state 48
    AT              shift and go to state 27
    SLASH           shift and go to state 40
    NUMBER          shift and go to state 10
    QUESTMARK       shift and go to state 32
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    scoped_flags                   shift and go to state 22
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    chain_begin                    shift and go to state 11
    lookup_expr                    shift and go to state 13
    charclass_negation             shift and go to state 15
    optionalize                    shift and go to state 16
    string_expr                    shift and go to state 45
    lookaround_expr                shift and go to state 17
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 20
    negated_lookup                 shift and go to state 21
    orblock_expr                   shift and go to state 24
    numrange                       shift and go to state 25
    quantifier                     shift and go to state 30
    condition                      shift and go to state 135
    quantified_expr                shift and go to state 34
    match_until                    shift and go to state 36
    expr                           shift and go to state 136
    lookup_type                    shift and go to state 38
    str_b                          shift and go to state 39
    numrange_shortcut              shift and go to state 43
    variable_lookup                shift and go to state 47

state 98

    (25) numrange_shortcut -> STRING DOT DOT . STRING NEWLINE
    (26) numrange_shortcut -> STRING DOT DOT . NEWLINE

    STRING          shift and go to state 138
    NEWLINE         shift and go to state 137


state 99

    (20) string_expr -> STRING str_b NEWLINE .

    INDENT          reduce using rule 20 (string_expr -> STRING str_b NEWLINE .)
    DEDENT          reduce using rule 20 (string_expr -> STRING str_b NEWLINE .)
    $end            reduce using rule 20 (string_expr -> STRING str_b NEWLINE .)
    BAR             reduce using rule 20 (string_expr -> STRING str_b NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 20 (string_expr -> STRING str_b NEWLINE .)
    GLOBALMARK      reduce using rule 20 (string_expr -> STRING str_b NEWLINE .)
    VARNAME         reduce using rule 20 (string_expr -> STRING str_b NEWLINE .)
    LBRACKET        reduce using rule 20 (string_expr -> STRING str_b NEWLINE .)


state 100

    (37) repeat_range -> numrange backtrack MINUS . of
    (41) of -> . WHITESPACE OF

    WHITESPACE      shift and go to state 75

    of                             shift and go to state 139

state 101

    (58) lookitem -> BAR . lookup GT
    (59) lookitem -> BAR . EXCLAMARK lookup GT
    (62) lookitem -> BAR . lookup BAR
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    EXCLAMARK       shift and go to state 140
    AT              shift and go to state 143
    SLASH           shift and go to state 40
    DOT             shift and go to state 141
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    match_until                    shift and go to state 36
    lookup_type                    shift and go to state 38
    backreference                  shift and go to state 9
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 142
    chain_begin                    shift and go to state 11
    negated_lookup                 shift and go to state 21
    variable_lookup                shift and go to state 47

state 102

    (55) lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems . END_OF_LOOKAROUND

    END_OF_LOOKAROUND shift and go to state 144


state 103

    (60) lookitem -> LT . lookup BAR
    (61) lookitem -> LT . EXCLAMARK lookup BAR
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    EXCLAMARK       shift and go to state 145
    AT              shift and go to state 143
    SLASH           shift and go to state 40
    DOT             shift and go to state 141
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    match_until                    shift and go to state 36
    lookup_type                    shift and go to state 38
    backreference                  shift and go to state 9
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 146
    chain_begin                    shift and go to state 11
    negated_lookup                 shift and go to state 21
    variable_lookup                shift and go to state 47

state 104

    (56) lookitems -> lookitem . NEWLINE
    (57) lookitems -> lookitem . NEWLINE lookitems

    NEWLINE         shift and go to state 147


state 105

    (34) repeat_N_times -> AT NUMBER of .

    WHITESPACE      reduce using rule 34 (repeat_N_times -> AT NUMBER of .)
    COLON           reduce using rule 34 (repeat_N_times -> AT NUMBER of .)


state 106

    (36) repeat_range -> AT numrange of .

    WHITESPACE      reduce using rule 36 (repeat_range -> AT numrange of .)
    COLON           reduce using rule 36 (repeat_range -> AT numrange of .)


state 107

    (66) chain_begin -> AT SLASH SLASH .

    VARNAME         reduce using rule 66 (chain_begin -> AT SLASH SLASH .)
    FAIL            reduce using rule 66 (chain_begin -> AT SLASH SLASH .)
    NON             reduce using rule 66 (chain_begin -> AT SLASH SLASH .)
    EQUALSIGN       reduce using rule 66 (chain_begin -> AT SLASH SLASH .)
    DOUBLEUNDERSCORE reduce using rule 66 (chain_begin -> AT SLASH SLASH .)


state 108

    (67) chain_begin -> AT DOT SLASH .

    VARNAME         reduce using rule 67 (chain_begin -> AT DOT SLASH .)
    FAIL            reduce using rule 67 (chain_begin -> AT DOT SLASH .)
    NON             reduce using rule 67 (chain_begin -> AT DOT SLASH .)
    EQUALSIGN       reduce using rule 67 (chain_begin -> AT DOT SLASH .)
    DOUBLEUNDERSCORE reduce using rule 67 (chain_begin -> AT DOT SLASH .)


state 109

    (9) global_flags -> LPAREN FLAGSET RPAREN . NEWLINE
    (45) scoped_flags -> LPAREN FLAGSET RPAREN . WHITESPACE

    NEWLINE         shift and go to state 148
    WHITESPACE      shift and go to state 149


state 110

    (89) charitems -> WHITESPACE . charitem
    (90) charitems -> WHITESPACE . charitem charitems
    (91) charitem -> . ranged_char
    (92) charitem -> . single_char
    (93) charitem -> . period_char
    (94) ranged_char -> . CHAR DOT DOT CHAR
    (96) single_char -> . CHAR
    (95) period_char -> . DOT

    CHAR            shift and go to state 155
    DOT             shift and go to state 154

    single_char                    shift and go to state 153
    charitem                       shift and go to state 151
    ranged_char                    shift and go to state 152
    period_char                    shift and go to state 150

state 111

    (29) quantified_expr -> quantifier COLON charclass .

    BAR             reduce using rule 29 (quantified_expr -> quantifier COLON charclass .)
    END_OF_ORBLOCK  reduce using rule 29 (quantified_expr -> quantifier COLON charclass .)
    INDENT          reduce using rule 29 (quantified_expr -> quantifier COLON charclass .)
    $end            reduce using rule 29 (quantified_expr -> quantifier COLON charclass .)
    DEDENT          reduce using rule 29 (quantified_expr -> quantifier COLON charclass .)
    GLOBALMARK      reduce using rule 29 (quantified_expr -> quantifier COLON charclass .)
    VARNAME         reduce using rule 29 (quantified_expr -> quantifier COLON charclass .)
    LBRACKET        reduce using rule 29 (quantified_expr -> quantifier COLON charclass .)


state 112

    (88) charclass -> charitems . NEWLINE

    NEWLINE         shift and go to state 156


state 113

    (28) quantified_expr -> quantifier WHITESPACE expr .

    BAR             reduce using rule 28 (quantified_expr -> quantifier WHITESPACE expr .)
    END_OF_ORBLOCK  reduce using rule 28 (quantified_expr -> quantifier WHITESPACE expr .)
    INDENT          reduce using rule 28 (quantified_expr -> quantifier WHITESPACE expr .)
    $end            reduce using rule 28 (quantified_expr -> quantifier WHITESPACE expr .)
    DEDENT          reduce using rule 28 (quantified_expr -> quantifier WHITESPACE expr .)
    GLOBALMARK      reduce using rule 28 (quantified_expr -> quantifier WHITESPACE expr .)
    VARNAME         reduce using rule 28 (quantified_expr -> quantifier WHITESPACE expr .)
    LBRACKET        reduce using rule 28 (quantified_expr -> quantifier WHITESPACE expr .)


state 114

    (5) oprex -> NEWLINE INDENT root_expression DEDENT .

    $end            reduce using rule 5 (oprex -> NEWLINE INDENT root_expression DEDENT .)


state 115

    (101) definitions -> definition .
    (102) definitions -> definition . definitions
    (101) definitions -> . definition
    (102) definitions -> . definition definitions
    (103) definition -> . assignment
    (104) definition -> . GLOBALMARK assignment
    (105) assignment -> . declaration equals assignment
    (106) assignment -> . declaration equals expression
    (107) assignment -> . declaration COLON charclass optional_subblock
    (112) declaration -> . VARNAME
    (113) declaration -> . LBRACKET VARNAME RBRACKET

    DEDENT          reduce using rule 101 (definitions -> definition .)
    GLOBALMARK      shift and go to state 117
    VARNAME         shift and go to state 118
    LBRACKET        shift and go to state 119

    definition                     shift and go to state 115
    assignment                     shift and go to state 120
    declaration                    shift and go to state 116
    definitions                    shift and go to state 157

state 116

    (105) assignment -> declaration . equals assignment
    (106) assignment -> declaration . equals expression
    (107) assignment -> declaration . COLON charclass optional_subblock
    (108) equals -> . EQUALSIGN
    (109) equals -> . WHITESPACE EQUALSIGN
    (110) equals -> . EQUALSIGN WHITESPACE
    (111) equals -> . WHITESPACE EQUALSIGN WHITESPACE

    COLON           shift and go to state 160
    EQUALSIGN       shift and go to state 161
    WHITESPACE      shift and go to state 158

    equals                         shift and go to state 159

state 117

    (104) definition -> GLOBALMARK . assignment
    (105) assignment -> . declaration equals assignment
    (106) assignment -> . declaration equals expression
    (107) assignment -> . declaration COLON charclass optional_subblock
    (112) declaration -> . VARNAME
    (113) declaration -> . LBRACKET VARNAME RBRACKET

    VARNAME         shift and go to state 118
    LBRACKET        shift and go to state 119

    assignment                     shift and go to state 162
    declaration                    shift and go to state 116

state 118

    (112) declaration -> VARNAME .

    COLON           reduce using rule 112 (declaration -> VARNAME .)
    EQUALSIGN       reduce using rule 112 (declaration -> VARNAME .)
    WHITESPACE      reduce using rule 112 (declaration -> VARNAME .)


state 119

    (113) declaration -> LBRACKET . VARNAME RBRACKET

    VARNAME         shift and go to state 163


state 120

    (103) definition -> assignment .

    GLOBALMARK      reduce using rule 103 (definition -> assignment .)
    VARNAME         reduce using rule 103 (definition -> assignment .)
    LBRACKET        reduce using rule 103 (definition -> assignment .)
    DEDENT          reduce using rule 103 (definition -> assignment .)


state 121

    (97) optional_subblock -> begin_subblock definitions . end_subblock
    (100) end_subblock -> . DEDENT

    DEDENT          shift and go to state 164

    end_subblock                   shift and go to state 165

state 122

    (21) string_expr -> str_b STRING NEWLINE .

    INDENT          reduce using rule 21 (string_expr -> str_b STRING NEWLINE .)
    DEDENT          reduce using rule 21 (string_expr -> str_b STRING NEWLINE .)
    $end            reduce using rule 21 (string_expr -> str_b STRING NEWLINE .)
    BAR             reduce using rule 21 (string_expr -> str_b STRING NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 21 (string_expr -> str_b STRING NEWLINE .)
    GLOBALMARK      reduce using rule 21 (string_expr -> str_b STRING NEWLINE .)
    VARNAME         reduce using rule 21 (string_expr -> str_b STRING NEWLINE .)
    LBRACKET        reduce using rule 21 (string_expr -> str_b STRING NEWLINE .)


state 123

    (23) str_b -> DOT .

    NEWLINE         reduce using rule 23 (str_b -> DOT .)


state 124

    (22) string_expr -> str_b STRING str_b . NEWLINE

    NEWLINE         shift and go to state 166


state 125

    (27) charclass_negation -> NOT COLON charclass .

    INDENT          reduce using rule 27 (charclass_negation -> NOT COLON charclass .)
    GLOBALMARK      reduce using rule 27 (charclass_negation -> NOT COLON charclass .)
    VARNAME         reduce using rule 27 (charclass_negation -> NOT COLON charclass .)
    LBRACKET        reduce using rule 27 (charclass_negation -> NOT COLON charclass .)
    DEDENT          reduce using rule 27 (charclass_negation -> NOT COLON charclass .)
    $end            reduce using rule 27 (charclass_negation -> NOT COLON charclass .)
    BAR             reduce using rule 27 (charclass_negation -> NOT COLON charclass .)
    END_OF_ORBLOCK  reduce using rule 27 (charclass_negation -> NOT COLON charclass .)


state 126

    (45) scoped_flags -> LPAREN FLAGSET RPAREN . WHITESPACE

    WHITESPACE      shift and go to state 149


state 127

    (40) backtrack -> WHITESPACE LT LT .

    PLUS            reduce using rule 40 (backtrack -> WHITESPACE LT LT .)
    MINUS           reduce using rule 40 (backtrack -> WHITESPACE LT LT .)


state 128

    (38) repeat_range -> NUMBER backtrack PLUS DOT . DOT of
    (39) repeat_range -> NUMBER backtrack PLUS DOT . DOT NUMBER of

    DOT             shift and go to state 167


state 129

    (43) numrange -> NUMBER DOT DOT NUMBER .

    WHITESPACE      reduce using rule 43 (numrange -> NUMBER DOT DOT NUMBER .)


state 130

    (76) lookup_chain -> lookup_item SLASH lookup_chain .

    SLASH           reduce using rule 76 (lookup_chain -> lookup_item SLASH lookup_chain .)
    DOT             reduce using rule 76 (lookup_chain -> lookup_item SLASH lookup_chain .)
    NEWLINE         reduce using rule 76 (lookup_chain -> lookup_item SLASH lookup_chain .)
    GT              reduce using rule 76 (lookup_chain -> lookup_item SLASH lookup_chain .)
    BAR             reduce using rule 76 (lookup_chain -> lookup_item SLASH lookup_chain .)


state 131

    (46) orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK .

    BAR             reduce using rule 46 (orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK .)
    END_OF_ORBLOCK  reduce using rule 46 (orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK .)
    INDENT          reduce using rule 46 (orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK .)
    GLOBALMARK      reduce using rule 46 (orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK .)
    VARNAME         reduce using rule 46 (orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK .)
    LBRACKET        reduce using rule 46 (orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK .)
    DEDENT          reduce using rule 46 (orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK .)
    $end            reduce using rule 46 (orblock_expr -> BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK .)


state 132

    (48) oritems -> oritem oritems .

    END_OF_ORBLOCK  reduce using rule 48 (oritems -> oritem oritems .)


state 133

    (53) condition -> LBRACKET . VARNAME RBRACKET

    VARNAME         shift and go to state 168


state 134

    (52) oritem -> or NEWLINE .

    BAR             reduce using rule 52 (oritem -> or NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 52 (oritem -> or NEWLINE .)


state 135

    (49) oritem -> or condition . WHITESPACE QUESTMARK WHITESPACE expr
    (50) oritem -> or condition . WHITESPACE QUESTMARK NEWLINE

    WHITESPACE      shift and go to state 169


state 136

    (51) oritem -> or expr .

    BAR             reduce using rule 51 (oritem -> or expr .)
    END_OF_ORBLOCK  reduce using rule 51 (oritem -> or expr .)


state 137

    (26) numrange_shortcut -> STRING DOT DOT NEWLINE .

    BAR             reduce using rule 26 (numrange_shortcut -> STRING DOT DOT NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 26 (numrange_shortcut -> STRING DOT DOT NEWLINE .)
    INDENT          reduce using rule 26 (numrange_shortcut -> STRING DOT DOT NEWLINE .)
    GLOBALMARK      reduce using rule 26 (numrange_shortcut -> STRING DOT DOT NEWLINE .)
    VARNAME         reduce using rule 26 (numrange_shortcut -> STRING DOT DOT NEWLINE .)
    LBRACKET        reduce using rule 26 (numrange_shortcut -> STRING DOT DOT NEWLINE .)
    DEDENT          reduce using rule 26 (numrange_shortcut -> STRING DOT DOT NEWLINE .)
    $end            reduce using rule 26 (numrange_shortcut -> STRING DOT DOT NEWLINE .)


state 138

    (25) numrange_shortcut -> STRING DOT DOT STRING . NEWLINE

    NEWLINE         shift and go to state 170


state 139

    (37) repeat_range -> numrange backtrack MINUS of .

    WHITESPACE      reduce using rule 37 (repeat_range -> numrange backtrack MINUS of .)
    COLON           reduce using rule 37 (repeat_range -> numrange backtrack MINUS of .)


state 140

    (59) lookitem -> BAR EXCLAMARK . lookup GT
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    AT              shift and go to state 143
    SLASH           shift and go to state 40
    DOT             shift and go to state 141
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    match_until                    shift and go to state 36
    lookup_type                    shift and go to state 38
    backreference                  shift and go to state 9
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 171
    chain_begin                    shift and go to state 11
    negated_lookup                 shift and go to state 21
    variable_lookup                shift and go to state 47

state 141

    (70) chain_begin -> DOT . SLASH

    SLASH           shift and go to state 56


state 142

    (58) lookitem -> BAR lookup . GT
    (62) lookitem -> BAR lookup . BAR

    GT              shift and go to state 172
    BAR             shift and go to state 173


state 143

    (66) chain_begin -> AT . SLASH SLASH
    (67) chain_begin -> AT . DOT SLASH
    (68) chain_begin -> AT . SLASH

    SLASH           shift and go to state 68
    DOT             shift and go to state 69


state 144

    (55) lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND .

    BAR             reduce using rule 55 (lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND .)
    END_OF_ORBLOCK  reduce using rule 55 (lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND .)
    INDENT          reduce using rule 55 (lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND .)
    GLOBALMARK      reduce using rule 55 (lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND .)
    VARNAME         reduce using rule 55 (lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND .)
    LBRACKET        reduce using rule 55 (lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND .)
    DEDENT          reduce using rule 55 (lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND .)
    $end            reduce using rule 55 (lookaround_expr -> BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND .)


state 145

    (61) lookitem -> LT EXCLAMARK . lookup BAR
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    AT              shift and go to state 143
    SLASH           shift and go to state 40
    DOT             shift and go to state 141
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    match_until                    shift and go to state 36
    lookup_type                    shift and go to state 38
    backreference                  shift and go to state 9
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 174
    chain_begin                    shift and go to state 11
    negated_lookup                 shift and go to state 21
    variable_lookup                shift and go to state 47

state 146

    (60) lookitem -> LT lookup . BAR

    BAR             shift and go to state 175


state 147

    (56) lookitems -> lookitem NEWLINE .
    (57) lookitems -> lookitem NEWLINE . lookitems
    (56) lookitems -> . lookitem NEWLINE
    (57) lookitems -> . lookitem NEWLINE lookitems
    (58) lookitem -> . BAR lookup GT
    (59) lookitem -> . BAR EXCLAMARK lookup GT
    (60) lookitem -> . LT lookup BAR
    (61) lookitem -> . LT EXCLAMARK lookup BAR
    (62) lookitem -> . BAR lookup BAR

    END_OF_LOOKAROUND reduce using rule 56 (lookitems -> lookitem NEWLINE .)
    BAR             shift and go to state 101
    LT              shift and go to state 103

    lookitem                       shift and go to state 104
    lookitems                      shift and go to state 176

state 148

    (9) global_flags -> LPAREN FLAGSET RPAREN NEWLINE .

    STRING          reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    BEGIN_ORBLOCK   reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    BEGIN_LOOKAROUND reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    NOT             reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    DOT             reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    UNDERSCORE      reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    LPAREN          reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    AT              reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    SLASH           reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    NUMBER          reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    QUESTMARK       reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    VARNAME         reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    FAIL            reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    NON             reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    EQUALSIGN       reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    DOUBLEUNDERSCORE reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    $end            reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)
    DEDENT          reduce using rule 9 (global_flags -> LPAREN FLAGSET RPAREN NEWLINE .)


state 149

    (45) scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .

    STRING          reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    BEGIN_ORBLOCK   reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    BEGIN_LOOKAROUND reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    NOT             reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    DOT             reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    UNDERSCORE      reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    LPAREN          reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    AT              reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    SLASH           reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    NUMBER          reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    QUESTMARK       reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    VARNAME         reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    FAIL            reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    NON             reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    EQUALSIGN       reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)
    DOUBLEUNDERSCORE reduce using rule 45 (scoped_flags -> LPAREN FLAGSET RPAREN WHITESPACE .)


state 150

    (93) charitem -> period_char .

    WHITESPACE      reduce using rule 93 (charitem -> period_char .)
    NEWLINE         reduce using rule 93 (charitem -> period_char .)


state 151

    (89) charitems -> WHITESPACE charitem .
    (90) charitems -> WHITESPACE charitem . charitems
    (89) charitems -> . WHITESPACE charitem
    (90) charitems -> . WHITESPACE charitem charitems

    NEWLINE         reduce using rule 89 (charitems -> WHITESPACE charitem .)
    WHITESPACE      shift and go to state 110

    charitems                      shift and go to state 177

state 152

    (91) charitem -> ranged_char .

    WHITESPACE      reduce using rule 91 (charitem -> ranged_char .)
    NEWLINE         reduce using rule 91 (charitem -> ranged_char .)


state 153

    (92) charitem -> single_char .

    WHITESPACE      reduce using rule 92 (charitem -> single_char .)
    NEWLINE         reduce using rule 92 (charitem -> single_char .)


state 154

    (95) period_char -> DOT .

    WHITESPACE      reduce using rule 95 (period_char -> DOT .)
    NEWLINE         reduce using rule 95 (period_char -> DOT .)


state 155

    (94) ranged_char -> CHAR . DOT DOT CHAR
    (96) single_char -> CHAR .

    DOT             shift and go to state 178
    WHITESPACE      reduce using rule 96 (single_char -> CHAR .)
    NEWLINE         reduce using rule 96 (single_char -> CHAR .)


state 156

    (88) charclass -> charitems NEWLINE .

    INDENT          reduce using rule 88 (charclass -> charitems NEWLINE .)
    $end            reduce using rule 88 (charclass -> charitems NEWLINE .)
    DEDENT          reduce using rule 88 (charclass -> charitems NEWLINE .)
    BAR             reduce using rule 88 (charclass -> charitems NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 88 (charclass -> charitems NEWLINE .)
    GLOBALMARK      reduce using rule 88 (charclass -> charitems NEWLINE .)
    VARNAME         reduce using rule 88 (charclass -> charitems NEWLINE .)
    LBRACKET        reduce using rule 88 (charclass -> charitems NEWLINE .)


state 157

    (102) definitions -> definition definitions .

    DEDENT          reduce using rule 102 (definitions -> definition definitions .)


state 158

    (109) equals -> WHITESPACE . EQUALSIGN
    (111) equals -> WHITESPACE . EQUALSIGN WHITESPACE

    EQUALSIGN       shift and go to state 179


state 159

    (105) assignment -> declaration equals . assignment
    (106) assignment -> declaration equals . expression
    (105) assignment -> . declaration equals assignment
    (106) assignment -> . declaration equals expression
    (107) assignment -> . declaration COLON charclass optional_subblock
    (10) expression -> . expr optional_subblock
    (112) declaration -> . VARNAME
    (113) declaration -> . LBRACKET VARNAME RBRACKET
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . lookaround_expr
    (16) expr -> . quantified_expr
    (17) expr -> . numrange_shortcut
    (18) expr -> . charclass_negation
    (19) string_expr -> . STRING NEWLINE
    (20) string_expr -> . STRING str_b NEWLINE
    (21) string_expr -> . str_b STRING NEWLINE
    (22) string_expr -> . str_b STRING str_b NEWLINE
    (63) lookup_expr -> . lookup NEWLINE
    (46) orblock_expr -> . BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK
    (44) flagged_expr -> . scoped_flags expr
    (55) lookaround_expr -> . BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND
    (28) quantified_expr -> . quantifier WHITESPACE expr
    (29) quantified_expr -> . quantifier COLON charclass
    (25) numrange_shortcut -> . STRING DOT DOT STRING NEWLINE
    (26) numrange_shortcut -> . STRING DOT DOT NEWLINE
    (27) charclass_negation -> . NOT COLON charclass
    (23) str_b -> . DOT
    (24) str_b -> . UNDERSCORE
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (45) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (30) quantifier -> . repeat_N_times
    (31) quantifier -> . repeat_range
    (32) quantifier -> . optionalize
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (34) repeat_N_times -> . AT NUMBER of
    (35) repeat_N_times -> . NUMBER of
    (36) repeat_range -> . AT numrange of
    (37) repeat_range -> . numrange backtrack MINUS of
    (38) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (39) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (33) optionalize -> . QUESTMARK of
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (42) numrange -> . NUMBER DOT DOT
    (43) numrange -> . NUMBER DOT DOT NUMBER
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    VARNAME         shift and go to state 180
    LBRACKET        shift and go to state 119
    STRING          shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 18
    BEGIN_LOOKAROUND shift and go to state 26
    NOT             shift and go to state 44
    DOT             shift and go to state 14
    UNDERSCORE      shift and go to state 12
    LPAREN          shift and go to state 48
    AT              shift and go to state 27
    SLASH           shift and go to state 40
    NUMBER          shift and go to state 10
    QUESTMARK       shift and go to state 32
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    scoped_flags                   shift and go to state 22
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    chain_begin                    shift and go to state 11
    lookup_expr                    shift and go to state 13
    charclass_negation             shift and go to state 15
    optionalize                    shift and go to state 16
    lookaround_expr                shift and go to state 17
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 20
    negated_lookup                 shift and go to state 21
    orblock_expr                   shift and go to state 24
    assignment                     shift and go to state 181
    numrange                       shift and go to state 25
    declaration                    shift and go to state 116
    quantifier                     shift and go to state 30
    quantified_expr                shift and go to state 34
    match_until                    shift and go to state 36
    numrange_shortcut              shift and go to state 43
    lookup_type                    shift and go to state 38
    str_b                          shift and go to state 39
    expression                     shift and go to state 182
    expr                           shift and go to state 37
    string_expr                    shift and go to state 45
    variable_lookup                shift and go to state 47

state 160

    (107) assignment -> declaration COLON . charclass optional_subblock
    (88) charclass -> . charitems NEWLINE
    (89) charitems -> . WHITESPACE charitem
    (90) charitems -> . WHITESPACE charitem charitems

    WHITESPACE      shift and go to state 110

    charitems                      shift and go to state 112
    charclass                      shift and go to state 183

state 161

    (108) equals -> EQUALSIGN .
    (110) equals -> EQUALSIGN . WHITESPACE

    VARNAME         reduce using rule 108 (equals -> EQUALSIGN .)
    LBRACKET        reduce using rule 108 (equals -> EQUALSIGN .)
    STRING          reduce using rule 108 (equals -> EQUALSIGN .)
    BEGIN_ORBLOCK   reduce using rule 108 (equals -> EQUALSIGN .)
    BEGIN_LOOKAROUND reduce using rule 108 (equals -> EQUALSIGN .)
    NOT             reduce using rule 108 (equals -> EQUALSIGN .)
    DOT             reduce using rule 108 (equals -> EQUALSIGN .)
    UNDERSCORE      reduce using rule 108 (equals -> EQUALSIGN .)
    LPAREN          reduce using rule 108 (equals -> EQUALSIGN .)
    AT              reduce using rule 108 (equals -> EQUALSIGN .)
    SLASH           reduce using rule 108 (equals -> EQUALSIGN .)
    NUMBER          reduce using rule 108 (equals -> EQUALSIGN .)
    QUESTMARK       reduce using rule 108 (equals -> EQUALSIGN .)
    FAIL            reduce using rule 108 (equals -> EQUALSIGN .)
    NON             reduce using rule 108 (equals -> EQUALSIGN .)
    EQUALSIGN       reduce using rule 108 (equals -> EQUALSIGN .)
    DOUBLEUNDERSCORE reduce using rule 108 (equals -> EQUALSIGN .)
    WHITESPACE      shift and go to state 184


state 162

    (104) definition -> GLOBALMARK assignment .

    GLOBALMARK      reduce using rule 104 (definition -> GLOBALMARK assignment .)
    VARNAME         reduce using rule 104 (definition -> GLOBALMARK assignment .)
    LBRACKET        reduce using rule 104 (definition -> GLOBALMARK assignment .)
    DEDENT          reduce using rule 104 (definition -> GLOBALMARK assignment .)


state 163

    (113) declaration -> LBRACKET VARNAME . RBRACKET

    RBRACKET        shift and go to state 185


state 164

    (100) end_subblock -> DEDENT .

    $end            reduce using rule 100 (end_subblock -> DEDENT .)
    DEDENT          reduce using rule 100 (end_subblock -> DEDENT .)
    GLOBALMARK      reduce using rule 100 (end_subblock -> DEDENT .)
    VARNAME         reduce using rule 100 (end_subblock -> DEDENT .)
    LBRACKET        reduce using rule 100 (end_subblock -> DEDENT .)


state 165

    (97) optional_subblock -> begin_subblock definitions end_subblock .

    $end            reduce using rule 97 (optional_subblock -> begin_subblock definitions end_subblock .)
    DEDENT          reduce using rule 97 (optional_subblock -> begin_subblock definitions end_subblock .)
    GLOBALMARK      reduce using rule 97 (optional_subblock -> begin_subblock definitions end_subblock .)
    VARNAME         reduce using rule 97 (optional_subblock -> begin_subblock definitions end_subblock .)
    LBRACKET        reduce using rule 97 (optional_subblock -> begin_subblock definitions end_subblock .)


state 166

    (22) string_expr -> str_b STRING str_b NEWLINE .

    INDENT          reduce using rule 22 (string_expr -> str_b STRING str_b NEWLINE .)
    DEDENT          reduce using rule 22 (string_expr -> str_b STRING str_b NEWLINE .)
    $end            reduce using rule 22 (string_expr -> str_b STRING str_b NEWLINE .)
    BAR             reduce using rule 22 (string_expr -> str_b STRING str_b NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 22 (string_expr -> str_b STRING str_b NEWLINE .)
    GLOBALMARK      reduce using rule 22 (string_expr -> str_b STRING str_b NEWLINE .)
    VARNAME         reduce using rule 22 (string_expr -> str_b STRING str_b NEWLINE .)
    LBRACKET        reduce using rule 22 (string_expr -> str_b STRING str_b NEWLINE .)


state 167

    (38) repeat_range -> NUMBER backtrack PLUS DOT DOT . of
    (39) repeat_range -> NUMBER backtrack PLUS DOT DOT . NUMBER of
    (41) of -> . WHITESPACE OF

    NUMBER          shift and go to state 187
    WHITESPACE      shift and go to state 75

    of                             shift and go to state 186

state 168

    (53) condition -> LBRACKET VARNAME . RBRACKET

    RBRACKET        shift and go to state 188


state 169

    (49) oritem -> or condition WHITESPACE . QUESTMARK WHITESPACE expr
    (50) oritem -> or condition WHITESPACE . QUESTMARK NEWLINE

    QUESTMARK       shift and go to state 189


state 170

    (25) numrange_shortcut -> STRING DOT DOT STRING NEWLINE .

    BAR             reduce using rule 25 (numrange_shortcut -> STRING DOT DOT STRING NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 25 (numrange_shortcut -> STRING DOT DOT STRING NEWLINE .)
    INDENT          reduce using rule 25 (numrange_shortcut -> STRING DOT DOT STRING NEWLINE .)
    GLOBALMARK      reduce using rule 25 (numrange_shortcut -> STRING DOT DOT STRING NEWLINE .)
    VARNAME         reduce using rule 25 (numrange_shortcut -> STRING DOT DOT STRING NEWLINE .)
    LBRACKET        reduce using rule 25 (numrange_shortcut -> STRING DOT DOT STRING NEWLINE .)
    DEDENT          reduce using rule 25 (numrange_shortcut -> STRING DOT DOT STRING NEWLINE .)
    $end            reduce using rule 25 (numrange_shortcut -> STRING DOT DOT STRING NEWLINE .)


state 171

    (59) lookitem -> BAR EXCLAMARK lookup . GT

    GT              shift and go to state 190


state 172

    (58) lookitem -> BAR lookup GT .

    NEWLINE         reduce using rule 58 (lookitem -> BAR lookup GT .)


state 173

    (62) lookitem -> BAR lookup BAR .

    NEWLINE         reduce using rule 62 (lookitem -> BAR lookup BAR .)


state 174

    (61) lookitem -> LT EXCLAMARK lookup . BAR

    BAR             shift and go to state 191


state 175

    (60) lookitem -> LT lookup BAR .

    NEWLINE         reduce using rule 60 (lookitem -> LT lookup BAR .)


state 176

    (57) lookitems -> lookitem NEWLINE lookitems .

    END_OF_LOOKAROUND reduce using rule 57 (lookitems -> lookitem NEWLINE lookitems .)


state 177

    (90) charitems -> WHITESPACE charitem charitems .

    NEWLINE         reduce using rule 90 (charitems -> WHITESPACE charitem charitems .)


state 178

    (94) ranged_char -> CHAR DOT . DOT CHAR

    DOT             shift and go to state 192


state 179

    (109) equals -> WHITESPACE EQUALSIGN .
    (111) equals -> WHITESPACE EQUALSIGN . WHITESPACE

    VARNAME         reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    LBRACKET        reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    STRING          reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    BEGIN_ORBLOCK   reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    BEGIN_LOOKAROUND reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    NOT             reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    DOT             reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    UNDERSCORE      reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    LPAREN          reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    AT              reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    SLASH           reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    NUMBER          reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    QUESTMARK       reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    FAIL            reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    NON             reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    EQUALSIGN       reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    DOUBLEUNDERSCORE reduce using rule 109 (equals -> WHITESPACE EQUALSIGN .)
    WHITESPACE      shift and go to state 193


state 180

    (112) declaration -> VARNAME .
    (83) variable_lookup -> VARNAME .

    COLON           reduce using rule 112 (declaration -> VARNAME .)
    EQUALSIGN       reduce using rule 112 (declaration -> VARNAME .)
    WHITESPACE      reduce using rule 112 (declaration -> VARNAME .)
    QUESTMARK       reduce using rule 83 (variable_lookup -> VARNAME .)
    NEWLINE         reduce using rule 83 (variable_lookup -> VARNAME .)


state 181

    (105) assignment -> declaration equals assignment .

    GLOBALMARK      reduce using rule 105 (assignment -> declaration equals assignment .)
    VARNAME         reduce using rule 105 (assignment -> declaration equals assignment .)
    LBRACKET        reduce using rule 105 (assignment -> declaration equals assignment .)
    DEDENT          reduce using rule 105 (assignment -> declaration equals assignment .)


state 182

    (106) assignment -> declaration equals expression .

    GLOBALMARK      reduce using rule 106 (assignment -> declaration equals expression .)
    VARNAME         reduce using rule 106 (assignment -> declaration equals expression .)
    LBRACKET        reduce using rule 106 (assignment -> declaration equals expression .)
    DEDENT          reduce using rule 106 (assignment -> declaration equals expression .)


state 183

    (107) assignment -> declaration COLON charclass . optional_subblock
    (97) optional_subblock -> . begin_subblock definitions end_subblock
    (98) optional_subblock -> .
    (99) begin_subblock -> . INDENT

    GLOBALMARK      reduce using rule 98 (optional_subblock -> .)
    VARNAME         reduce using rule 98 (optional_subblock -> .)
    LBRACKET        reduce using rule 98 (optional_subblock -> .)
    DEDENT          reduce using rule 98 (optional_subblock -> .)
    INDENT          shift and go to state 78

    begin_subblock                 shift and go to state 79
    optional_subblock              shift and go to state 194

state 184

    (110) equals -> EQUALSIGN WHITESPACE .

    VARNAME         reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    LBRACKET        reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    STRING          reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    BEGIN_ORBLOCK   reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    BEGIN_LOOKAROUND reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    NOT             reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    DOT             reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    UNDERSCORE      reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    LPAREN          reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    AT              reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    SLASH           reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    NUMBER          reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    QUESTMARK       reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    FAIL            reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    NON             reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    EQUALSIGN       reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)
    DOUBLEUNDERSCORE reduce using rule 110 (equals -> EQUALSIGN WHITESPACE .)


state 185

    (113) declaration -> LBRACKET VARNAME RBRACKET .

    COLON           reduce using rule 113 (declaration -> LBRACKET VARNAME RBRACKET .)
    EQUALSIGN       reduce using rule 113 (declaration -> LBRACKET VARNAME RBRACKET .)
    WHITESPACE      reduce using rule 113 (declaration -> LBRACKET VARNAME RBRACKET .)


state 186

    (38) repeat_range -> NUMBER backtrack PLUS DOT DOT of .

    WHITESPACE      reduce using rule 38 (repeat_range -> NUMBER backtrack PLUS DOT DOT of .)
    COLON           reduce using rule 38 (repeat_range -> NUMBER backtrack PLUS DOT DOT of .)


state 187

    (39) repeat_range -> NUMBER backtrack PLUS DOT DOT NUMBER . of
    (41) of -> . WHITESPACE OF

    WHITESPACE      shift and go to state 75

    of                             shift and go to state 195

state 188

    (53) condition -> LBRACKET VARNAME RBRACKET .

    WHITESPACE      reduce using rule 53 (condition -> LBRACKET VARNAME RBRACKET .)


state 189

    (49) oritem -> or condition WHITESPACE QUESTMARK . WHITESPACE expr
    (50) oritem -> or condition WHITESPACE QUESTMARK . NEWLINE

    WHITESPACE      shift and go to state 196
    NEWLINE         shift and go to state 197


state 190

    (59) lookitem -> BAR EXCLAMARK lookup GT .

    NEWLINE         reduce using rule 59 (lookitem -> BAR EXCLAMARK lookup GT .)


state 191

    (61) lookitem -> LT EXCLAMARK lookup BAR .

    NEWLINE         reduce using rule 61 (lookitem -> LT EXCLAMARK lookup BAR .)


state 192

    (94) ranged_char -> CHAR DOT DOT . CHAR

    CHAR            shift and go to state 198


state 193

    (111) equals -> WHITESPACE EQUALSIGN WHITESPACE .

    VARNAME         reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    LBRACKET        reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    STRING          reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    BEGIN_ORBLOCK   reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    BEGIN_LOOKAROUND reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    NOT             reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    DOT             reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    UNDERSCORE      reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    LPAREN          reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    AT              reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    SLASH           reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    NUMBER          reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    QUESTMARK       reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    FAIL            reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    NON             reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    EQUALSIGN       reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)
    DOUBLEUNDERSCORE reduce using rule 111 (equals -> WHITESPACE EQUALSIGN WHITESPACE .)


state 194

    (107) assignment -> declaration COLON charclass optional_subblock .

    GLOBALMARK      reduce using rule 107 (assignment -> declaration COLON charclass optional_subblock .)
    VARNAME         reduce using rule 107 (assignment -> declaration COLON charclass optional_subblock .)
    LBRACKET        reduce using rule 107 (assignment -> declaration COLON charclass optional_subblock .)
    DEDENT          reduce using rule 107 (assignment -> declaration COLON charclass optional_subblock .)


state 195

    (39) repeat_range -> NUMBER backtrack PLUS DOT DOT NUMBER of .

    WHITESPACE      reduce using rule 39 (repeat_range -> NUMBER backtrack PLUS DOT DOT NUMBER of .)
    COLON           reduce using rule 39 (repeat_range -> NUMBER backtrack PLUS DOT DOT NUMBER of .)


state 196

    (49) oritem -> or condition WHITESPACE QUESTMARK WHITESPACE . expr
    (11) expr -> . string_expr
    (12) expr -> . lookup_expr
    (13) expr -> . orblock_expr
    (14) expr -> . flagged_expr
    (15) expr -> . lookaround_expr
    (16) expr -> . quantified_expr
    (17) expr -> . numrange_shortcut
    (18) expr -> . charclass_negation
    (19) string_expr -> . STRING NEWLINE
    (20) string_expr -> . STRING str_b NEWLINE
    (21) string_expr -> . str_b STRING NEWLINE
    (22) string_expr -> . str_b STRING str_b NEWLINE
    (63) lookup_expr -> . lookup NEWLINE
    (46) orblock_expr -> . BEGIN_ORBLOCK NEWLINE oritems END_OF_ORBLOCK
    (44) flagged_expr -> . scoped_flags expr
    (55) lookaround_expr -> . BEGIN_LOOKAROUND NEWLINE lookitems END_OF_LOOKAROUND
    (28) quantified_expr -> . quantifier WHITESPACE expr
    (29) quantified_expr -> . quantifier COLON charclass
    (25) numrange_shortcut -> . STRING DOT DOT STRING NEWLINE
    (26) numrange_shortcut -> . STRING DOT DOT NEWLINE
    (27) charclass_negation -> . NOT COLON charclass
    (23) str_b -> . DOT
    (24) str_b -> . UNDERSCORE
    (64) lookup -> . lookup_item
    (65) lookup -> . chain_begin lookup_chain chain_end
    (45) scoped_flags -> . LPAREN FLAGSET RPAREN WHITESPACE
    (30) quantifier -> . repeat_N_times
    (31) quantifier -> . repeat_range
    (32) quantifier -> . optionalize
    (77) lookup_item -> . lookup_type
    (78) lookup_item -> . lookup_type QUESTMARK
    (66) chain_begin -> . AT SLASH SLASH
    (67) chain_begin -> . AT DOT SLASH
    (68) chain_begin -> . AT SLASH
    (69) chain_begin -> . SLASH SLASH
    (70) chain_begin -> . DOT SLASH
    (71) chain_begin -> . SLASH
    (34) repeat_N_times -> . AT NUMBER of
    (35) repeat_N_times -> . NUMBER of
    (36) repeat_range -> . AT numrange of
    (37) repeat_range -> . numrange backtrack MINUS of
    (38) repeat_range -> . NUMBER backtrack PLUS DOT DOT of
    (39) repeat_range -> . NUMBER backtrack PLUS DOT DOT NUMBER of
    (33) optionalize -> . QUESTMARK of
    (79) lookup_type -> . variable_lookup
    (80) lookup_type -> . negated_lookup
    (81) lookup_type -> . backreference
    (82) lookup_type -> . match_until
    (42) numrange -> . NUMBER DOT DOT
    (43) numrange -> . NUMBER DOT DOT NUMBER
    (83) variable_lookup -> . VARNAME
    (84) variable_lookup -> . FAIL
    (85) negated_lookup -> . NON VARNAME
    (86) backreference -> . EQUALSIGN VARNAME
    (87) match_until -> . DOUBLEUNDERSCORE

    STRING          shift and go to state 23
    BEGIN_ORBLOCK   shift and go to state 18
    BEGIN_LOOKAROUND shift and go to state 26
    NOT             shift and go to state 44
    DOT             shift and go to state 14
    UNDERSCORE      shift and go to state 12
    LPAREN          shift and go to state 48
    AT              shift and go to state 27
    SLASH           shift and go to state 40
    NUMBER          shift and go to state 10
    QUESTMARK       shift and go to state 32
    VARNAME         shift and go to state 7
    FAIL            shift and go to state 29
    NON             shift and go to state 33
    EQUALSIGN       shift and go to state 31
    DOUBLEUNDERSCORE shift and go to state 46

    scoped_flags                   shift and go to state 22
    repeat_N_times                 shift and go to state 4
    flagged_expr                   shift and go to state 5
    repeat_range                   shift and go to state 8
    backreference                  shift and go to state 9
    chain_begin                    shift and go to state 11
    lookup_expr                    shift and go to state 13
    charclass_negation             shift and go to state 15
    optionalize                    shift and go to state 16
    string_expr                    shift and go to state 45
    lookaround_expr                shift and go to state 17
    lookup_item                    shift and go to state 19
    lookup                         shift and go to state 20
    negated_lookup                 shift and go to state 21
    orblock_expr                   shift and go to state 24
    numrange                       shift and go to state 25
    quantifier                     shift and go to state 30
    quantified_expr                shift and go to state 34
    match_until                    shift and go to state 36
    expr                           shift and go to state 199
    lookup_type                    shift and go to state 38
    str_b                          shift and go to state 39
    numrange_shortcut              shift and go to state 43
    variable_lookup                shift and go to state 47

state 197

    (50) oritem -> or condition WHITESPACE QUESTMARK NEWLINE .

    BAR             reduce using rule 50 (oritem -> or condition WHITESPACE QUESTMARK NEWLINE .)
    END_OF_ORBLOCK  reduce using rule 50 (oritem -> or condition WHITESPACE QUESTMARK NEWLINE .)


state 198

    (94) ranged_char -> CHAR DOT DOT CHAR .

    WHITESPACE      reduce using rule 94 (ranged_char -> CHAR DOT DOT CHAR .)
    NEWLINE         reduce using rule 94 (ranged_char -> CHAR DOT DOT CHAR .)


state 199

    (49) oritem -> or condition WHITESPACE QUESTMARK WHITESPACE expr .

    BAR             reduce using rule 49 (oritem -> or condition WHITESPACE QUESTMARK WHITESPACE expr .)
    END_OF_ORBLOCK  reduce using rule 49 (oritem -> or condition WHITESPACE QUESTMARK WHITESPACE expr .)

